(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[52],{1795:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),c=t.n(n),l=(t(76),t(78)),i=t.n(l),r=(t(197),t(198)),s=t.n(r),o=(t(72),t(66)),u=t.n(o),d=t(62),m=(t(86),t(87)),g=t.n(m),f=(t(57),t(59)),p=t.n(f),b=(t(58),t(60)),E=t.n(b),v=(t(69),t(70)),h=t.n(v),O=(t(65),t(67)),j=t.n(O),y=t(53),w=(t(225),t(229)),C=t.n(w),k=(t(51),t(50)),x=t.n(k),S=(t(63),t(61)),_=t.n(S),I=(t(74),t(75)),z=t.n(I),N=t(0),U=t.n(N),L=t(71),R=(t(107),t(56)),D=t(95),F=t(1838),J=t(434),T={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M624 706.3h-74.1V464c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v242.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.7a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-download",theme:"outlined"},A=t(49),M=function(e,a){return N.createElement(A.a,Object.assign({},e,{ref:a,icon:T}))};M.displayName="CloudDownloadOutlined";var V=N.forwardRef(M),B=t(315),H=t(124),K=t.n(H),P=t(73),q=t.n(P),G=t(114),Q=(z.a.MonthPicker,z.a.RangePicker,_.a.Option),W=[{label:"Active",value:"1"},{label:"Banned",value:"2"},{label:"Locked",value:"5"}].map((function(e,a){return U.a.createElement(Q,{key:a,value:e.value},e.label)})),X=function(e,a,t,n){return[{title:"Action",dataIndex:"id1",key:"id1",align:"center",render:function(a,t){return U.a.createElement("a",{className:"action-btn",onClick:function(){e(t)}},U.a.createElement(F.a,null),U.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))}},{title:"User ID",dataIndex:"id",key:"id",align:"center",render:function(e,a){return U.a.createElement("span",{className:"table-id"},e)}},{title:"send active email",dataIndex:"sendEmail",key:"sendEmail",align:"center",render:function(e,a){return 6==a.status?U.a.createElement(x.a,{type:"primary",size:"small",loading:n.loading&&n.id===a.id,onClick:function(){t(a.id)}},"send"):null}},{title:"Email",dataIndex:"email",key:"email",align:"center"},{title:"Invitation code",dataIndex:"invitation_code",key:"invitation_code",align:"center"},{title:"User status",dataIndex:"status",key:"status",align:"center",render:function(e,t){return U.a.createElement("div",{style:{cursor:"pointer",width:"120px"},onClick:function(){a(t)}},U.a.createElement(C.a,{status:1==e?"success":6==e?"processing":3==e?"error":"default"}),U.a.createElement("span",null,1==e?"Active":2==e?"Banne":3==e?"DELETED":4==e?"INACTIVE":5==e?"LOCKED":6==e?"Created":""))}},{title:"Created on",dataIndex:"create_time",key:"create_time",align:"center"}]},Y={labelCol:{span:8},wrapperCol:{span:16}},Z=function(e){var a=j.a.useForm(),t=Object(y.a)(a,1)[0];return U.a.createElement(j.a,Object.assign({},Y,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){e.changeSearch(a)}}),U.a.createElement(p.a,{gutter:24},U.a.createElement(E.a,{span:8},U.a.createElement(j.a.Item,{name:"email",label:"Email"},U.a.createElement(h.a,null))),U.a.createElement(E.a,{span:8},U.a.createElement(j.a.Item,{name:"id",label:"User ID"},U.a.createElement(h.a,null)))),U.a.createElement(p.a,null,U.a.createElement(E.a,{span:24,style:{textAlign:"right"}},U.a.createElement(x.a,{icon:U.a.createElement(J.a,null),type:"primary",htmlType:"submit",loading:e.loading},"Search"),U.a.createElement(x.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},$=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,c=j.a.useForm(),l=Object(y.a)(c,1)[0],i=Object(N.useState)({}),r=Object(y.a)(i,2),s=(r[0],r[1],Object(N.useState)(!1)),o=Object(y.a)(s,2);o[0],o[1];return Object(N.useEffect)((function(){}),[]),U.a.createElement(g.a,{visible:a,title:"",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){l.validateFields().then((function(e){l.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},U.a.createElement(j.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:l,name:"form_in_modal"}),U.a.createElement(j.a.Item,{name:"status",label:"status",rules:[{required:!0}]},U.a.createElement(_.a,null,W))))},ee=function(e){var a=Object(N.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},startRow:0,userId:"",downloadUserUrl:""}),t=Object(y.a)(a,2),n=t[0],l=t[1],r=Object(N.useState)({visible:!1,data:{}}),o=Object(y.a)(r,2),m=(o[0],o[1],Object(N.useState)({loading:!1,id:-1})),g=Object(y.a)(m,2),f=g[0],b=g[1];Object(N.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};v(e)}),[]);var v=function(e){n.pagination,n.search;console.log("paramslist",e);var a=Object(R.O)(),t=JSON.stringify(Object(d.a)({},n.search)),c="".concat(a,"?userJson=").concat(t);l(Object(d.a)(Object(d.a)({},n),{},{loading:!0})),Object(R.Tb)({userJson:JSON.stringify(Object(G.a)(e))}).then((function(e){l(Object(d.a)(Object(d.a)({},n),{},{list:e.data.list&&Object(D.getKeyList)(e.data.list),loading:!1,startRow:e.data.pager.start_row,visible:!1,pagination:{total:e.data.pager.total},downloadUserUrl:encodeURI(c)}))})).catch((function(e){console.log("err",e)}))};return U.a.createElement(c.a,{className:"animated fadeIn"},U.a.createElement($,{visible:n.visible,onCreate:function(e){console.log("data",e);var a=n.userId;Object(R.kc)({userJson:JSON.stringify({id:a,status:e.status})}).then((function(a){var t={page_size:10,start_row:0,status:e.prevStatus};v(t)})).catch((function(e){console.log("err",e)}))},onCancel:function(){l(Object(d.a)(Object(d.a)({},n),{},{visible:!1}))}}),U.a.createElement("div",{className:"web-bread-c"},U.a.createElement(L.a,{arr:["User List"]}),U.a.createElement("h3",null,"User List"),U.a.createElement("img",{src:q.a,className:"aset"})),U.a.createElement("div",{className:"base-wr"},U.a.createElement("div",{className:"base-style"},U.a.createElement(Z,{changeSearch:function(e){var a=Object(d.a)(Object(d.a)({},e),{},{page_size:n.pagination.pageSize,start_row:0});l(Object(d.a)(Object(d.a)({},n),e)),v(a)},loading:n.loading})),U.a.createElement(p.a,null,U.a.createElement(E.a,{span:24},U.a.createElement("div",{className:"base-style"},U.a.createElement(p.a,null,U.a.createElement(E.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},U.a.createElement("a",{style:{backgroundColor:"#1890ff",color:"#fff",padding:"8px 15px",marginLeft:"10px"},href:n.downloadUserUrl,type:"download"},U.a.createElement(V,null),U.a.createElement("span",{style:{marginLeft:"5px"}},"Download User")),U.a.createElement(x.a,{type:"primary",onClick:function(){e.history.push("/add_user")},style:{marginLeft:"10px"}},"+ Create Account"),U.a.createElement(s.a,{customRequest:function(e){var a=e.file;e.onSuccess;window.confirm("Please confirm info is correct")&&Object(R.Jc)({file:a}).then((function(e){u.a.success("success");var a={start_row:0,page_size:n.pagination.pageSize};v(a)}))}},U.a.createElement(x.a,{style:{marginLeft:"10px"},icon:U.a.createElement(B.a,null)},"Click to Upload File To Create")))),U.a.createElement(i.a,{columns:X((function(e){var a=K.a+"/userDetail/"+e.id;window.open(a,"_blank").focus()}),(function(e){console.log("changeStatus",e),l(Object(d.a)(Object(d.a)({},n),{},{visible:!0,userId:e.id}))}),(function(e){console.log("id",e),console.log("state",n),b({loading:!0,id:e}),Object(R.uc)({id:e}).then((function(e){u.a.success("success");var a={page_size:10,start_row:n.startRow};v(a),b(Object(d.a)(Object(d.a)({},f),{},{loading:!1}))}))}),f),rowKey:function(e){return e.key},dataSource:n.list,onChange:function(e){var a=Object(d.a)(Object(d.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});v(a)},rowSelection:Object(d.a)({type:"checkbox"},(function(){})),bordered:!0,loading:n.loading,pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=ee},315:function(e,a,t){"use strict";var n=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},l=t(49),i=function(e,a){return n.createElement(l.a,Object.assign({},e,{ref:a,icon:c}))};i.displayName="UploadOutlined";a.a=n.forwardRef(i)},434:function(e,a,t){"use strict";var n=t(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},l=t(49),i=function(e,a){return n.createElement(l.a,Object.assign({},e,{ref:a,icon:c}))};i.displayName="SearchOutlined";a.a=n.forwardRef(i)}}]);