(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[42],{120:function(e,a,t){"use strict";var n=t(125),i=t.n(n),s=t(81),r=localStorage.getItem("token"),l=i.a.create({baseURL:s.a,timeout:5e3});l.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",l.interceptors.request.use((function(e){return r&&(e.headers.Authorization=r),e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return 200===e.status?Promise.resolve(e):Promise.reject(e)}),(function(e){if(e.response&&e.response.status)switch(e.response.status){case 401:case 403:case 404:case 500:break;default:console.log("\u5176\u4ed6\u9519\u8bef\u4fe1\u606f")}return Promise.reject(e)}))},1818:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),i=t.n(n),s=(t(51),t(50)),r=t.n(s),l=(t(447),t(393)),c=t.n(l),o=(t(57),t(59)),m=t.n(o),u=(t(69),t(70)),d=t.n(u),p=(t(58),t(60)),f=t.n(p),E=t(62),v=(t(65),t(67)),b=t.n(v),g=t(53),y=(t(63),t(61)),h=t.n(y),x=(t(74),t(75)),O=t.n(x),k=t(0),j=t.n(k),P=(t(119),t(89)),w=(t(80),t(56)),C=(t(120),t(81),t(199),t(177),t(157),O.a.RangePicker,{labelCol:{span:8},wrapperCol:{span:16}}),L={wrapperCol:{offset:10,span:16}},N=h.a.Option,F=function(e){var a=Object(k.useState)({id:"12",fullName:"hhh",displayName:"display",logo:"",allPermissionsList:[],selectPermissions:[]}),t=Object(g.a)(a,2),n=t[0],s=t[1],l=b.a.useForm(),o=Object(g.a)(l,1)[0],u=function(){Object(w.Cb)().then((function(a){!function(a){var t=e.match.params.id;0!=t?Object(w.Bb)({id:t}).then((function(e){o.setFieldsValue({name:e.data.data.name,description:e.data.data.descrption});var t=e.data.data.role_permission_list?e.data.data.role_permission_list:[],i=[];t.map((function(e){return e.permission_list.map((function(e){i.push(e.id)}))})),s(Object(E.a)(Object(E.a)({},n),{},{allPermissionsList:a,selectPermissions:i})),console.log("rolePList",i)})):s(Object(E.a)(Object(E.a)({},n),{},{allPermissionsList:a}))}(a.data.data)}))};return Object(k.useEffect)((function(){u()}),[]),j.a.createElement(i.a,{className:"index animated fadeIn"},j.a.createElement(P.a,{title:"Role info"}),j.a.createElement("div",{className:"base-style base-detail",id:"demoline"},j.a.createElement(m.a,null,j.a.createElement(f.a,{span:24},j.a.createElement(b.a,Object.assign({},C,{name:"basic",initialValues:{remember:!0},form:o,onFinish:function(a){var t=e.match.params.id,i={name:a.name,admin:"Super admin"===a.name?1:0,descrption:a.description,permission_ids:n.selectPermissions};0!=t&&(i.id=t),Object(w.r)({roleJson:JSON.stringify(i)}).then((function(a){e.history.push("/permissions/role")}))},onFinishFailed:function(e){console.log("Failed:",e)}}),j.a.createElement(m.a,null,j.a.createElement(f.a,{span:12},j.a.createElement(b.a.Item,{label:"Role Name",name:"name"},j.a.createElement(h.a,null,j.a.createElement(N,{key:"Super admin",value:"Super admin"},"Super admin"),j.a.createElement(N,{key:"Operation Manager",value:"Operation Manager"},"Operation Manager"),j.a.createElement(N,{key:"Operation",value:"Operation"},"Operation"),j.a.createElement(N,{key:"Marketing",value:"Marketing"},"Marketing"),j.a.createElement(N,{key:"Customer service",value:"Customer service"},"Customer service"),j.a.createElement(N,{key:"Accountant",value:"Accountant"},"Accountant"),j.a.createElement(N,{key:"Product",value:"Product"},"Product"),j.a.createElement(N,{key:"Logistic",value:"Logistic"},"Logistic"),j.a.createElement(N,{key:"Intern",value:"Intern"},"Intern")))),j.a.createElement(f.a,{span:12},j.a.createElement(b.a.Item,{label:"Description",name:"description"},j.a.createElement(d.a,null)))),j.a.createElement(m.a,null,j.a.createElement(f.a,{style:{width:"79%",margin:"0 auto",border:"2px dashed #eee",padding:"30px"}},j.a.createElement("div",null,j.a.createElement("div",{style:{display:"flex",marginBottom:"20px",backgroundColor:"#eee",padding:"10px 0 10px 0"}},j.a.createElement("div",{style:{minWidth:"400px",textAlign:"center"}},"Function module"),j.a.createElement("div",{style:{flex:1,paddingLeft:"40px",display:"flex",flexWrap:"wrap",justifyContent:"center"}},"Features")),n.allPermissionsList.map((function(e,a){return j.a.createElement("div",{style:{display:"flex",marginBottom:"20px"},key:a},j.a.createElement("div",{className:"module",style:{minWidth:"400px",textAlign:"center"}},e.modular),j.a.createElement("div",{style:{flex:1,paddingLeft:"40px",display:"flex",flexWrap:"wrap"},className:"feature"},e.permission_list.map((function(e,a){return j.a.createElement("div",{key:a,style:{minWidth:"230px"}},j.a.createElement(c.a,{onChange:function(){!function(e){console.log("data",e);var a=n.selectPermissions,t=e.id;if(a.includes(t)){console.log("1");var i=a.indexOf(t);a.splice(i,1),s(Object(E.a)(Object(E.a)({},n),{},{selectPermissions:a}))}else console.log("2"),a.push(t),s(Object(E.a)(Object(E.a)({},n),{},{selectPermissions:a}))}(e)},checked:n.selectPermissions.includes(e.id)},e.descrption))}))))}))))),j.a.createElement(b.a.Item,L,j.a.createElement("div",null,j.a.createElement(r.a,{type:"primary",htmlType:"submit",style:{marginTop:"30px"}},"Save"))))))))};a.default=F},80:function(e,a,t){},81:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n="http://149.28.152.251:9001/v1"},89:function(e,a,t){"use strict";var n=t(0),i=t.n(n),s=t(71),r=t(73),l=t.n(r),c=function(e){var a=e.title;return i.a.createElement("div",{className:"web-bread-c"},i.a.createElement(s.a,{arr:[a]}),i.a.createElement("h3",null,a),i.a.createElement("img",{src:l.a,className:"aset",alt:"aset"}))};a.a=c}}]);