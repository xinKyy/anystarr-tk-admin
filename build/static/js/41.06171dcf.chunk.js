(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[41],{1835:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),l=t.n(n),c=(t(76),t(78)),i=t.n(c),r=(t(72),t(66)),o=t.n(r),s=t(62),d=(t(86),t(87)),u=t.n(d),m=(t(51),t(50)),f=t.n(m),p=(t(57),t(59)),b=t.n(p),g=(t(58),t(60)),h=t.n(g),v=(t(69),t(70)),O=t.n(v),y=(t(65),t(67)),E=t.n(y),j=t(53),C=(t(243),t(245)),k=t.n(C),w=(t(63),t(61)),_=t.n(w),x=(t(74),t(75)),S=t.n(x),z=t(0),N=t.n(z),I=t(71),T=(t(107),t(56)),F=t(95),D=(t(114),t(15),t(228),t(73)),P=t.n(D),R=t(186),M=(S.a.MonthPicker,S.a.RangePicker,_.a.Option),K=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return N.a.createElement(M,{key:a,value:e.value},e.label)})),function(e,a,t,n){return[{title:"Effective",dataIndex:"status",key:"status",width:"100",align:"center",render:function(e,a){return N.a.createElement("div",null,N.a.createElement(k.a,{defaultChecked:1==e,onClick:function(){n(a)}})," ")}},{title:"Module name",dataIndex:"module_name",key:"module_name",align:"center"},{title:"Type",dataIndex:"type",key:"type",width:"100",align:"center",render:function(e,a){return 1==e?N.a.createElement("span",null,"promo code"):2==e?N.a.createElement("span",null,"content"):3==e?N.a.createElement("span",null,"proof"):N.a.createElement("span",null)}},{title:"Update date",dataIndex:"update_time",key:"update_time",width:"100",align:"center"},{title:"Update by",dataIndex:"updated_by",key:"updated_by",align:"center",render:function(e,a){return N.a.createElement("div",{style:{width:"100px"}},N.a.createElement(R.a,{name:e,style:{display:"inline-block"}}),N.a.createElement("span",null,e))}}]}),A=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,l=e.formData,c=(e.disabled,E.a.useForm()),i=Object(j.a)(c,1)[0],r=Object(z.useState)({}),o=Object(j.a)(r,2),s=(o[0],o[1],Object(z.useState)(!1)),d=Object(j.a)(s,2);d[0],d[1];Object(z.useEffect)((function(){console.log("formdata",l),Object.keys(l).length?i.setFieldsValue(l):i.resetFields()}),[l]);return N.a.createElement(u.a,{visible:a,title:"Task module",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){i.validateFields().then((function(e){i.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},N.a.createElement(E.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:i,name:"form_in_modal"}),N.a.createElement(E.a.Item,{name:"module_name",label:"Module name",rules:[{required:!0}]},N.a.createElement(O.a,null)),N.a.createElement(E.a.Item,{name:"type",label:"Type",rules:[{required:!0}]},N.a.createElement(_.a,{allowClear:!0},N.a.createElement(M,{value:1},"promo code"),N.a.createElement(M,{value:2},"content"),N.a.createElement(M,{value:3},"proof"),N.a.createElement(M,{value:6},"Apply Promo Link")))))},L=function(e){var a=Object(z.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),t=Object(j.a)(a,2),n=t[0],c=t[1],r=Object(z.useState)({visible:!1,data:{}}),d=Object(j.a)(r,2);d[0],d[1];Object(z.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};u(e)}),[]);var u=function(e){n.pagination,n.search;c(Object(s.a)(Object(s.a)({},n),{},{loading:!0})),Object(T.Mb)(e).then((function(a){c(Object(s.a)(Object(s.a)({},n),{},{visible:!1,list:a.data.data.records&&Object(F.getKeyList)(a.data.data.records),loading:!1,search:e.search,pagination:{total:a.data.data.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))})).catch((function(e){console.log("err",e)}))};return N.a.createElement(l.a,{className:"animated fadeIn"},N.a.createElement(A,{visible:n.visible,onCreate:function(e){Object(T.v)(e).then((function(e){o.a.success("success");var a=Object(s.a)(Object(s.a)({},n.search),{},{start_row:0,page_size:10});u(a)}))},onCancel:function(){c(Object(s.a)(Object(s.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),N.a.createElement("div",{className:"web-bread-c"},N.a.createElement(I.a,{arr:["Task modules"]}),N.a.createElement("h3",null,"Task modules"),N.a.createElement("img",{src:P.a,className:"aset",alt:"aset"})),N.a.createElement("div",{className:"base-wr"},N.a.createElement(b.a,null,N.a.createElement(h.a,{span:24},N.a.createElement("div",{className:"base-style"},N.a.createElement(b.a,null,N.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},N.a.createElement(f.a,{style:{marginRight:"10px"},type:"primary",onClick:function(){!function(){var e={start_row:0,page_size:n.pagination.pageSize};u(e)}()}},"Refresh"),N.a.createElement(f.a,{type:"primary",onClick:function(){c(Object(s.a)(Object(s.a)({},n),{},{visible:!0,formData:{}}))}},"Create Task Module"))),N.a.createElement(i.a,{columns:K(0,0,0,(function(e){console.log("yuyu",e.status),1==e.status?Object(T.F)({id:e.id}).then((function(e){var a={start_row:0,page_size:n.pagination.pageSize};u(a)})):Object(T.U)({id:e.id}).then((function(e){var a={start_row:0,page_size:n.pagination.pageSize};u(a)}))})),rowKey:function(e){return e.key},dataSource:n.list,onChange:function(e){console.log("state",n);var a=Object(s.a)(Object(s.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:n.search});console.log("ttt",a),u(a)},loading:n.loading,bordered:!0,pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=L},243:function(e,a,t){"use strict";t(46),t(244)},244:function(e,a,t){},245:function(e,a,t){"use strict";var n=t(36),l=t(35);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=l(t(39)),i=l(t(42)),r=n(t(0)),o=l(t(246)),s=l(t(37)),d=l(t(239)),u=l(t(297)),m=t(43),f=l(t(123)),p=l(t(82)),b=function(e,a){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&a.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var l=0;for(n=Object.getOwnPropertySymbols(e);l<n.length;l++)a.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(t[n[l]]=e[n[l]])}return t},g=r.forwardRef((function(e,a){var t,n=e.prefixCls,l=e.size,g=e.loading,h=e.className,v=void 0===h?"":h,O=e.disabled,y=b(e,["prefixCls","size","loading","className","disabled"]);(0,p.default)("checked"in y||!("value"in y),"Switch","`value` is not a valid prop, do you mean `checked`?");var E=r.useContext(m.ConfigContext),j=E.getPrefixCls,C=E.direction,k=r.useContext(f.default),w=j("switch",n),_=r.createElement("div",{className:"".concat(w,"-handle")},g&&r.createElement(d.default,{className:"".concat(w,"-loading-icon")})),x=(0,s.default)((t={},(0,i.default)(t,"".concat(w,"-small"),"small"===(l||k)),(0,i.default)(t,"".concat(w,"-loading"),g),(0,i.default)(t,"".concat(w,"-rtl"),"rtl"===C),t),v);return r.createElement(u.default,{insertExtraNode:!0},r.createElement(o.default,(0,c.default)({},y,{prefixCls:w,className:x,disabled:O||g,ref:a,loadingIcon:_})))}));g.__ANT_SWITCH=!0,g.displayName="Switch";var h=g;a.default=h},246:function(e,a,t){"use strict";t.r(a);var n=t(47),l=t(44),c=t(64),i=t(0),r=t(37),o=t.n(r),s=t(156),d=t(116),u=i.forwardRef((function(e,a){var t,r=e.prefixCls,u=void 0===r?"rc-switch":r,m=e.className,f=e.checked,p=e.defaultChecked,b=e.disabled,g=e.loadingIcon,h=e.checkedChildren,v=e.unCheckedChildren,O=e.onClick,y=e.onChange,E=e.onKeyDown,j=Object(c.a)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),C=Object(s.a)(!1,{value:f,defaultValue:p}),k=Object(l.a)(C,2),w=k[0],_=k[1];function x(e,a){var t=w;return b||(_(t=e),null===y||void 0===y||y(t,a)),t}var S=o()(u,m,(t={},Object(n.a)(t,"".concat(u,"-checked"),w),Object(n.a)(t,"".concat(u,"-disabled"),b),t));return i.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":w,disabled:b,className:S,ref:a,onKeyDown:function(e){e.which===d.a.LEFT?x(!1,e):e.which===d.a.RIGHT&&x(!0,e),null===E||void 0===E||E(e)},onClick:function(e){var a=x(!w,e);null===O||void 0===O||O(a,e)}}),g,i.createElement("span",{className:"".concat(u,"-inner")},w?h:v))}));u.displayName="Switch",a.default=u}}]);