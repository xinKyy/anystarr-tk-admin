(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[47],{1803:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),r=t.n(n),l=(t(76),t(78)),i=t.n(l),c=(t(72),t(66)),s=t.n(c),o=(t(86),t(87)),m=t.n(o),d=t(62),u=(t(51),t(50)),p=t.n(u),g=(t(57),t(59)),E=t.n(g),f=(t(58),t(60)),b=t.n(f),h=(t(69),t(70)),y=t.n(h),x=(t(65),t(67)),C=t.n(x),w=t(53),v=(t(162),t(163)),_=t.n(v),k=(t(225),t(229)),S=t.n(k),O=(t(236),t(129)),N=t.n(O),I=(t(63),t(61)),j=t.n(I),z=(t(74),t(75)),R=t.n(z),F=t(0),P=t.n(F),L=(t(107),t(56)),M=t(95),A=(t(15),t(114)),B=(t(73),t(89)),D=t(124),J=t.n(D),H=t(1838),T=t(1839),q=t(507),K=t(617),U=t(186),W=t(199),V=t.n(W),G=(t(177),R.a.MonthPicker,R.a.RangePicker,j.a.Option),Q=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return P.a.createElement(G,{key:a,value:e.value},e.label)})),function(e,a){return[{title:"Action",dataIndex:"edit",key:"edit",width:100,align:"center",render:function(t,n){return P.a.createElement(P.a.Fragment,null,P.a.createElement("a",{className:"action-btn",onClick:function(){e(n)}},P.a.createElement(H.a,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Edit")),P.a.createElement("a",{className:"action-btn",onClick:function(){a(n)}},P.a.createElement(H.a,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Ref Edit")))}},{title:"Campaign ID",dataIndex:"id",key:"id",width:100,align:"center",render:function(e,a){return P.a.createElement("span",{className:"table-id"},e)}},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:function(e,a){return P.a.createElement(N.a,{title:e},P.a.createElement("div",{style:{width:"300px"}},e))}},{title:"Language",dataIndex:"language",key:"language",align:"center",render:function(e,a){return P.a.createElement("span",null,1==e?"English":2==e?"French":3==e?"Spanish":4==e?"Polish":5==e?"Portuguese":"")}},{title:"Campaign type",dataIndex:"type",key:"type",align:"center",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-p"},P.a.createElement(T.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?P.a.createElement("span",{className:"table-row-green"},P.a.createElement(T.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?P.a.createElement("span",{className:"table-row-red"},P.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null}},{title:"Banner",dataIndex:"banner",key:"banner",align:"center",render:function(e,a){return P.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((function(e,a){return P.a.createElement("a",{href:e,target:"_blank"},P.a.createElement("img",{src:e,key:a,className:"table-img"}))})))}},{title:"Campaign status",dataIndex:"status",key:"status",align:"center",render:function(e,a){return P.a.createElement("div",{style:{width:"200px"}},P.a.createElement(S.a,{status:1==e||2==e?"success":4==e?"processing":0==e?"error":"default"}),P.a.createElement("span",null,0==e?"Campaign expired":1==e?"Campaign Posting":2==e?"Campaign Onging":3==e?"Campaign Created":4==e?"Campaign Draft":5==e?"Campaign on hold":""))}},{title:"Created by",dataIndex:"created_by",key:"created_by",align:"center",render:function(e,a){return P.a.createElement("div",{style:{width:"150px"}},P.a.createElement(U.a,{name:e,style:{display:"inline-block"}}),P.a.createElement("span",null,e))}},{title:"Code left",dataIndex:"surplus_code_number",key:"surplus_code_number",align:"center",render:function(e,a){return e<10&&1==a.language?P.a.createElement("span",{style:{color:"rgb(232,18,18)"}},"!",e):P.a.createElement("span",null,e)}},{title:"With Sample",dataIndex:"with_sample",key:"with_sample",width:"100",align:"center",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-no"},P.a.createElement(q.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):P.a.createElement("span",{className:"table-row-yes"},P.a.createElement(K.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")}},{title:"Pin",dataIndex:"set_top",key:"set_top",align:"center",width:"100",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-no"},P.a.createElement(q.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):P.a.createElement("span",{className:"table-row-yes"},P.a.createElement(K.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")}},{title:"Country",dataIndex:"country_list",key:"country_list",width:"100",align:"center",render:function(e,a){return P.a.createElement(P.a.Fragment,null,e&&JSON.parse(e).map((function(e,a){return P.a.createElement("span",{className:"table-id-block",key:a},e.toUpperCase())})))}},{title:"Start",dataIndex:"start_time",key:"start_time",align:"center",width:170},{title:"End",dataIndex:"close_time",key:"close_time",align:"center",width:170},{title:"Merchant",dataIndex:"merchant_name",key:"merchant_name",align:"center",width:100,render:function(e,a){return P.a.createElement("div",null,P.a.createElement(_.a,{src:a.merchant,style:{maxHeight:60,overflow:"hidden"}}),P.a.createElement("span",null,e))}}]}),X={labelCol:{span:8},wrapperCol:{span:16}},Y=function(e){var a=C.a.useForm(),t=Object(w.a)(a,1)[0],n=Object(F.useState)([{name:"English",value:"English"},{name:"French",value:"French"},{name:"Spanish",value:"Spanish"},{name:"Polish",value:"Polish"},{name:"Portuguese",value:"Portuguese"}]),r=Object(w.a)(n,2),l=r[0];r[1];return P.a.createElement(C.a,Object.assign({},X,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){e.changeSearch(a)}}),P.a.createElement(E.a,{gutter:24},P.a.createElement(b.a,{span:10},P.a.createElement(C.a.Item,{name:"title",label:"Campaign title"},P.a.createElement(y.a,null))),P.a.createElement(b.a,{span:11},P.a.createElement(C.a.Item,{name:"status",label:"Campaign status"},P.a.createElement(j.a,{allowClear:!0},P.a.createElement(G,{value:"0"},"expired"),P.a.createElement(G,{value:"1"},"posting"),P.a.createElement(G,{value:"2"},"onging"),P.a.createElement(G,{value:"3"},"created"),P.a.createElement(G,{value:"4"},"draft"),P.a.createElement(G,{value:"5"},"on hold"))))),P.a.createElement(E.a,{gutter:24},P.a.createElement(b.a,{span:10},P.a.createElement(C.a.Item,{name:"type",label:"Campaign type"},P.a.createElement(j.a,{allowClear:!0},P.a.createElement(G,{value:"1"},"CPA"),P.a.createElement(G,{value:"3"},"Branding"),P.a.createElement(G,{value:"4"},"abComo")))),P.a.createElement(b.a,{span:11},P.a.createElement(C.a.Item,{name:"language",label:"Campaign language"},P.a.createElement(j.a,{allowClear:!0},l.map((function(e){return P.a.createElement(G,{key:e.value,value:e.name},e.name)})))))),P.a.createElement(E.a,null,P.a.createElement(b.a,{span:24,style:{textAlign:"right"}},P.a.createElement(p.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),P.a.createElement(p.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},Z=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,r=e.formData,l=(e.disabled,C.a.useForm()),i=Object(w.a)(l,1)[0],c=Object(F.useState)({editorState:V.a.createEditorState(""),outputHTML:""}),s=Object(w.a)(c,2),o=s[0],u=s[1];Object(F.useEffect)((function(){console.log("formData",r);var e=r.id;e&&Object(L.ab)({campaignId:e}).then((function(e){console.log("xixixix"),u(Object(d.a)(Object(d.a)({},o),{},{editorState:V.a.createEditorState(e.data.Campaign_content)}))}))}),[r]);return P.a.createElement(m.a,{visible:a,title:"Campaign content  rtf",okText:"Submit",width:1100,cancelText:"Cancel",onCancel:n,onOk:function(){i.validateFields().then((function(e){i.resetFields(),t({id:r.id,campaign_content:o.outputHTML})})).catch((function(e){console.log("Validate Failed:",e)}))}},P.a.createElement(C.a,Object.assign({},{labelCol:{span:3},wrapperCol:{span:21}},{form:i,name:"form_in_modal"}),P.a.createElement(C.a.Item,{label:"Campaign Content",rules:[{required:!0}]},P.a.createElement(V.a,{value:o.editorState,onChange:function(e){u((function(a){return Object(d.a)(Object(d.a)({},a),{},{editorState:e,outputHTML:e.toHTML()})}))}}))))},$=function(e){var a=Object(F.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),t=Object(w.a)(a,2),n=t[0],l=t[1],c=Object(F.useState)({visible:!1,data:{}}),o=Object(w.a)(c,2);o[0],o[1];Object(F.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};m(e)}),[]);var m=function(e){n.pagination,n.search;console.log("params",e),l(Object(d.a)(Object(d.a)({},n),{},{loading:!0})),Object(L.cb)({campaignJson:JSON.stringify(Object(A.a)(e))}).then((function(a){l(Object(d.a)(Object(d.a)({},n),{},{visible:!1,list:a.data.list&&Object(M.getKeyList)(a.data.list),loading:!1,search:e.search,pagination:{current:e.start_row/e.page_size+1,pageSize:e.page_size,total:a.data.pager.total}}))})).catch((function(e){console.log("err",e)}))};return P.a.createElement(r.a,{className:"animated fadeIn"},P.a.createElement(Z,{visible:n.visible,onCreate:function(e){console.log("data....",e),e.campaign_content="<div style=' padding: 60px;background-color: #fff;color: #666;'>"+e.campaign_content+"</div>",Object(L.dc)({campaignId:e.id,content:e.campaign_content}).then((function(e){s.a.success("success");var a={start_row:0,page_size:n.pagination.pageSize};m(a)}))},onCancel:function(){l(Object(d.a)(Object(d.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),P.a.createElement(B.a,{title:"Campaign List"}),P.a.createElement("div",{className:"base-wr"},P.a.createElement("div",{className:"base-style"},P.a.createElement(Y,{changeSearch:function(e){var a=Object(d.a)(Object(d.a)({},e),{},{page_size:10,start_row:0,search:e});m(a)},loading:n.loading})),P.a.createElement(E.a,null,P.a.createElement(b.a,{span:24},P.a.createElement("div",{className:"base-style"},P.a.createElement(E.a,null,P.a.createElement(b.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},P.a.createElement(p.a,{type:"primary",onClick:function(){e.history.push({pathname:"/createCampaign/0",query:{}}),sessionStorage.setItem("query",JSON.stringify({}))}},"New Campaign"),P.a.createElement(p.a,{type:"primary",onClick:function(){e.history.push({pathname:"/createCampaignNew/0",query:{}}),sessionStorage.setItem("query",JSON.stringify({}))}},"New Campaign 2.0"))),P.a.createElement(i.a,{columns:Q((function(e){var a;console.log("data.is_new_campaign",e.is_new_campaign),a=e.is_new_campaign?J.a+"/createCampaignNew/"+e.id:J.a+"/createCampaign/"+e.id,window.open(a,"_blank").focus()}),(function(e){l(Object(d.a)(Object(d.a)({},n),{},{visible:!0,formData:e}))})),expandable:{expandedRowRender:function(e){console.log("expandedRowRender",e);return P.a.createElement(i.a,{columns:function(e){return[{title:"Action",dataIndex:"edit",key:"edit",width:100,align:"center",render:function(a,t){return P.a.createElement("a",{className:"action-btn",onClick:function(){e(t)}},P.a.createElement(H.a,null),P.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))}},{title:"Campaign ID",dataIndex:"id",key:"id",width:100,align:"center",render:function(e,a){return P.a.createElement("span",{className:"table-id"},e)}},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:function(e,a){return P.a.createElement(N.a,{title:e},P.a.createElement("div",{style:{width:"300px"}},e))}},{title:"Language",dataIndex:"language",key:"language",align:"center",render:function(e,a){return P.a.createElement("span",null,1==e?"English":2==e?"French":3==e?"Spanish":4==e?"Polish":5==e?"Portuguese":"")}},{title:"Campaign type",dataIndex:"type",key:"type",align:"center",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-p"},P.a.createElement(T.a,{style:{color:"#868AF6",fontSize:"13px",marginRight:"3px"}}),"CPA"):3==e?P.a.createElement("span",{className:"table-row-green"},P.a.createElement(T.a,{style:{color:"#18BFA4",fontSize:"13px",marginRight:"3px"}}),"Branding"):4==e?P.a.createElement("span",{className:"table-row-red"},P.a.createElement(T.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"abComo"):null}},{title:"Banner",dataIndex:"banner",key:"banner",align:"center",render:function(e,a){return P.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((function(e,a){return P.a.createElement("a",{href:e,target:"_blank"},P.a.createElement("img",{src:e,key:a,style:{width:"60px",marginLeft:"5px"}}))})))}},{title:"Campaign status",dataIndex:"status",key:"status",align:"center",render:function(e,a){return P.a.createElement("div",{style:{width:"200px"}},P.a.createElement(S.a,{status:1==e||2==e?"success":4==e?"processing":0==e?"error":"default"}),P.a.createElement("span",null,0==e?"Campaign expired":1==e?"Campaign Posting":2==e?"Campaign Onging":3==e?"Campaign Created":4==e?"Campaign Draft":5==e?"Campaign on hold":""))}},{title:"Created by",dataIndex:"created_by",key:"created_by",align:"center",render:function(e,a){return P.a.createElement("div",{style:{width:"150px"}},P.a.createElement(U.a,{name:e,style:{display:"inline-block"}}),P.a.createElement("span",null,e))}},{title:"Code left",dataIndex:"surplus_code_number",key:"surplus_code_number",align:"center",render:function(e,a){return e<10&&1==a.language?P.a.createElement("span",{style:{color:"rgb(232,18,18)"}},"!",e):P.a.createElement("span",null,e)}},{title:"With Sample",dataIndex:"with_sample",key:"with_sample",width:"100",align:"center",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-no"},P.a.createElement(q.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):P.a.createElement("span",{className:"table-row-yes"},P.a.createElement(K.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")}},{title:"Pin",dataIndex:"set_top",key:"set_top",align:"center",width:"100",render:function(e,a){return 1==e?P.a.createElement("span",{className:"table-row-no"},P.a.createElement(q.a,{style:{color:"#f85c5a",fontSize:"13px",marginRight:"3px"}}),"no"):P.a.createElement("span",{className:"table-row-yes"},P.a.createElement(K.a,{style:{color:"#33d6bb",fontSize:"13px",marginRight:"3px"}}),"yes")}},{title:"Country",dataIndex:"country_list",key:"country_list",width:"100",align:"center",render:function(e,a){return P.a.createElement(P.a.Fragment,null,e&&JSON.parse(e).map((function(e,a){return P.a.createElement("span",{className:"table-id",key:a},e.toUpperCase())})))}},{title:"Start",dataIndex:"start_time",key:"start_time",align:"center"},{title:"End",dataIndex:"close_time",key:"close_time",align:"center"},{title:"Merchant",dataIndex:"merchant_name",key:"merchant_name",align:"center",width:100,render:function(e,a){return P.a.createElement("div",null,P.a.createElement(_.a,{src:a.merchant,style:{maxHeight:60,overflow:"hidden"}}),P.a.createElement("span",null,e))}}]}((function(e){var a;console.log("data.is_new_campaign",e.is_new_campaign),a=e.is_new_campaign?J.a+"/createCampaignNew/"+e.id:J.a+"/createCampaign/"+e.id,window.open(a,"_blank").focus()})),dataSource:e.childCampaignList,pagination:!1,bordered:!0})}},rowKey:function(e){return e.key},dataSource:n.list,bordered:!0,size:"small",onChange:function(e){var a=Object(d.a)(Object(d.a)({},n.search),{},{search:n.search,page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});console.log("changepaams",a),m(a)},loading:n.loading,pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=$},507:function(e,a,t){"use strict";var n=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},l=t(49),i=function(e,a){return n.createElement(l.a,Object.assign({},e,{ref:a,icon:r}))};i.displayName="MinusCircleOutlined";a.a=n.forwardRef(i)},617:function(e,a,t){"use strict";var n=t(0),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},l=t(49),i=function(e,a){return n.createElement(l.a,Object.assign({},e,{ref:a,icon:r}))};i.displayName="CheckCircleOutlined";a.a=n.forwardRef(i)},89:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(71),i=t(73),c=t.n(i),s=function(e){var a=e.title;return r.a.createElement("div",{className:"web-bread-c"},r.a.createElement(l.a,{arr:[a]}),r.a.createElement("h3",null,a),r.a.createElement("img",{src:c.a,className:"aset",alt:"aset"}))};a.a=s}}]);