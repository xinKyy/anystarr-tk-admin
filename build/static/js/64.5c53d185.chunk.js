(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[64],{1829:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),l=t.n(n),c=(t(76),t(78)),r=t.n(c),i=(t(72),t(66)),o=t.n(i),s=t(62),m=(t(86),t(87)),d=t.n(m),u=(t(51),t(50)),g=t.n(u),b=(t(57),t(59)),p=t.n(b),E=(t(58),t(60)),h=t.n(E),f=(t(69),t(70)),_=t.n(f),O=(t(65),t(67)),y=t.n(O),v=t(53),j=(t(162),t(163)),k=t.n(j),w=(t(63),t(61)),C=t.n(w),I=(t(74),t(75)),S=t.n(I),x=t(0),P=t.n(x),z=t(71),N=(t(107),t(56)),F=t(95),D=t(114),T=(t(15),t(228),t(73)),L=t.n(T),J=(S.a.MonthPicker,S.a.RangePicker,C.a.Option),A=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return P.a.createElement(J,{key:a,value:e.value},e.label)})),function(e,a,t){return[{title:"Action",dataIndex:"edit",key:"edit",width:"100",align:"center",render:function(a,t){return P.a.createElement("div",null,P.a.createElement("a",{onClick:function(){e(t)}},"Edit"))}},{title:"ID",dataIndex:"id",key:"id",align:"center"},{title:"Product id",dataIndex:"product_id",key:"product_id",width:"100",align:"center"},{title:"Product image",dataIndex:"img_url",key:"img_url",align:"center",render:function(e,a){return P.a.createElement(k.a,{src:e,style:{maxWidth:"70px",marginLeft:"10px"}})}},{title:"Product title",dataIndex:"product_name",key:"product_name",width:"100",align:"center"},{title:"Status",dataIndex:"status",key:"status",width:"100",align:"center",render:function(e,a){return 1==e?P.a.createElement("span",null,"in stock"):P.a.createElement("span",null," out of stock")}},{title:"Category",dataIndex:"category_name",key:"category_name",width:"100",align:"center"},{title:"Product Link",dataIndex:"product_url",key:"product_url",width:"100",alignL:"center"},{title:"Product tag",dataIndex:"tag",key:"tag",width:"100",align:"center"}]}),R={labelCol:{span:8},wrapperCol:{span:16}},q=function(e){var a=y.a.useForm(),t=Object(v.a)(a,1)[0];return P.a.createElement(y.a,Object.assign({},R,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){console.log("values",a),e.changeSearch(a)}}),P.a.createElement(p.a,{gutter:24},P.a.createElement(h.a,{span:8},P.a.createElement(y.a.Item,{name:"id",label:"ID"},P.a.createElement(_.a,null))),P.a.createElement(h.a,{span:8},P.a.createElement(y.a.Item,{name:"is_show_app",label:"Pinned"},P.a.createElement(C.a,{allowClear:!0},P.a.createElement(J,{value:1},"Pinned"),P.a.createElement(J,{value:0},"Non-Pinned")))),P.a.createElement(h.a,{span:8},P.a.createElement(y.a.Item,{name:"category",label:"Category"},P.a.createElement(C.a,null,P.a.createElement(J,{value:1},"Pinned"),P.a.createElement(J,{value:0},"Non-Pinned"))))),P.a.createElement(p.a,null,P.a.createElement(h.a,{span:24,style:{textAlign:"right"}},P.a.createElement(g.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),P.a.createElement(g.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},K=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,l=e.formData,c=(e.disabled,y.a.useForm()),r=Object(v.a)(c,1)[0],i=Object(x.useState)({}),o=Object(v.a)(i,2),s=(o[0],o[1],Object(x.useState)(!1)),m=Object(v.a)(s,2);m[0],m[1];Object(x.useEffect)((function(){console.log("formdata",l),Object.keys(l).length?r.setFieldsValue(l):r.resetFields()}),[l]);return P.a.createElement(d.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){r.validateFields().then((function(e){r.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},P.a.createElement(y.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:r,name:"form_in_modal"}),P.a.createElement(y.a.Item,{name:"id",label:"ID"},P.a.createElement(_.a,{disabled:!0})),P.a.createElement(y.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},P.a.createElement(_.a,null)),P.a.createElement(y.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},P.a.createElement(_.a,null)),P.a.createElement(y.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},P.a.createElement(_.a,null)),P.a.createElement(y.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},P.a.createElement(_.a,null))))},V=function(e){var a=Object(x.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),t=Object(v.a)(a,2),n=t[0],c=t[1],i=Object(x.useState)({visible:!1,data:{}}),m=Object(v.a)(i,2);m[0],m[1];Object(x.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};d(e)}),[]);var d=function(e){n.pagination,n.search;c(Object(s.a)(Object(s.a)({},n),{},{loading:!0})),Object(N.vb)(JSON.stringify(Object(D.a)(e))).then((function(a){c(Object(s.a)(Object(s.a)({},n),{},{visible:!1,list:a.data.list&&Object(F.getKeyList)(a.data.list),loading:!1,search:e.search,pagination:{total:a.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))})).catch((function(e){console.log("err",e)}))};return P.a.createElement(l.a,{className:"animated fadeIn"},P.a.createElement(K,{visible:n.visible,onCreate:function(e){console.log("data",e),e.is_show_app=1,Object(N.s)({categoryJson:JSON.stringify(e)}).then((function(e){o.a.success("success");var a=Object(s.a)(Object(s.a)({},n.search),{},{start_row:0,page_size:10});d(a)})).catch((function(e){console.log("err",e)}))},onCancel:function(){c(Object(s.a)(Object(s.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),P.a.createElement("div",{className:"web-bread-c"},P.a.createElement(z.a,{arr:["abComo Sample List"]}),P.a.createElement("h3",null,"abComo Sample List"),P.a.createElement("img",{src:L.a,className:"aset",alt:"aset"})),P.a.createElement("div",{className:"base-wr"},P.a.createElement("div",{className:"base-style"},P.a.createElement(q,{changeSearch:function(e){var a=Object(s.a)(Object(s.a)({},e),{},{page_size:10,start_row:0,search:e});c(Object(s.a)(Object(s.a)({},n),{},{search:e})),d(a)},loading:n.loading})),P.a.createElement(p.a,null,P.a.createElement(h.a,{span:24},P.a.createElement("div",{className:"base-style"},P.a.createElement(p.a,null,P.a.createElement(h.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},P.a.createElement(g.a,{type:"primary",onClick:function(){e.history.push("/order_management/create_product/0")}},"Create product"))),P.a.createElement(r.a,{columns:A((function(a){console.log("data",a),e.history.push("/order_management/create_product/"+a.id)})),rowKey:function(e){return e.key},dataSource:n.list,onChange:function(e){console.log("state",n);var a=Object(s.a)(Object(s.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:n.search});console.log("ttt",a),d(a)},loading:n.loading,rowSelection:Object(s.a)({type:"checkbox"},(function(){})),pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=V}}]);