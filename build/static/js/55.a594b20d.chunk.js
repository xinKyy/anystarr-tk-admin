(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[55],{1834:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),l=t.n(n),c=(t(76),t(78)),r=t.n(c),i=(t(338),t(72),t(66)),s=t.n(i),o=t(62),m=(t(86),t(87)),u=t.n(m),d=(t(51),t(50)),b=t.n(d),g=(t(57),t(59)),f=t.n(g),p=(t(58),t(60)),E=t.n(p),O=(t(69),t(70)),h=t.n(O),j=(t(65),t(67)),v=t.n(j),y=t(53),_=(t(63),t(61)),C=t.n(_),k=(t(74),t(75)),w=t.n(k),x=t(0),I=t.n(x),F=t(71),D=(t(107),t(56)),S=t(95),N=(t(119),t(73)),Y=t.n(N),M=t(434),T=(t(186),t(124)),z=t.n(T),R=(t(157),w.a.MonthPicker,w.a.RangePicker,C.a.Option),V={rules:[{type:"object",required:!0,message:"Please select time!"}]},H=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return I.a.createElement(R,{key:a,value:e.value},e.label)})),function(e){return[{title:"id",dataIndex:"id",key:"id",align:"center",render:function(a,t){return I.a.createElement("span",{className:"table-id pointer",onClick:function(){e(t.user_id)}},a)}},{title:"Account Type",dataIndex:"account_type",key:"account_type",align:"center"},{title:"Age",dataIndex:"age",key:"age",align:"center"},{title:"language",dataIndex:"language",key:"language",align:"center",render:function(e,a){return I.a.createElement("span",null,a.externalInfo.language)}},{title:"ins handle",dataIndex:"app_name",key:"app_name",align:"center",render:function(e,a){return I.a.createElement("span",null,a.app_name)}},{title:"Email",dataIndex:"email",key:"email",align:"center"},{title:"Followers",dataIndex:"followed",key:"followed",align:"center"},{title:"Following",dataIndex:"following",key:"following",align:"center"},{title:"Full name",dataIndex:"full_name",key:"full_name",align:"center"},{title:"Gender",dataIndex:"gender",key:"gender",align:"center"},{title:"Ins Category",dataIndex:"ins_category",key:"ins_category",align:"center"},{title:"Location",dataIndex:"location",key:"location",align:"center"}]}),J={labelCol:{span:8},wrapperCol:{span:16}},P=function(e){var a=v.a.useForm(),t=Object(y.a)(a,1)[0];return I.a.createElement(v.a,Object.assign({},J,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){e.changeSearch(a)}}),I.a.createElement(f.a,{gutter:24},I.a.createElement(E.a,{span:8},I.a.createElement(v.a.Item,{name:"nickName",label:"ins handle"},I.a.createElement(h.a,null))),I.a.createElement(E.a,{span:8},I.a.createElement(v.a.Item,{name:"email",label:"Email"},I.a.createElement(h.a,null))),I.a.createElement(E.a,{span:8},I.a.createElement(v.a.Item,{name:"minNum",label:"Minimum Followers"},I.a.createElement(h.a,null)))),I.a.createElement(f.a,{gutter:24},I.a.createElement(E.a,{span:8},I.a.createElement(v.a.Item,{name:"maxNum",label:"Maximum Followers"},I.a.createElement(h.a,null)))),I.a.createElement(f.a,null,I.a.createElement(E.a,{span:24,style:{textAlign:"right"}},I.a.createElement(b.a,{icon:I.a.createElement(M.a,null),type:"primary",htmlType:"submit",loading:e.loading},"Search"),I.a.createElement(b.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},K=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,l=(e.formData,e.disabled,v.a.useForm()),c=Object(y.a)(l,1)[0];return I.a.createElement(u.a,{visible:a,title:"download ",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){c.validateFields().then((function(e){c.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},I.a.createElement(v.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),I.a.createElement(v.a.Item,{label:"User Name",name:"user_name"},I.a.createElement(h.a,null)),I.a.createElement(v.a.Item,{label:"Type",name:"type"},I.a.createElement(C.a,null,I.a.createElement(R,{value:1},"Email"),I.a.createElement(R,{value:2},"Ins"),I.a.createElement(R,{value:3},"facebook"))),I.a.createElement(v.a.Item,Object.assign({name:"begin_date",label:"Begin Time"},V),I.a.createElement(w.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"})),I.a.createElement(v.a.Item,Object.assign({name:"end_date",label:"End Time"},V),I.a.createElement(w.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))))},A=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,l=e.formData,c=(e.disabled,v.a.useForm()),r=Object(y.a)(c,1)[0],i=Object(x.useState)({}),s=Object(y.a)(i,2),o=(s[0],s[1],Object(x.useState)(!1)),m=Object(y.a)(o,2);m[0],m[1];Object(x.useEffect)((function(){Object.keys(l).length?r.setFieldsValue(l):r.resetFields()}),[]);return I.a.createElement(u.a,{visible:a,title:"Generate Referral code",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){r.validateFields().then((function(e){r.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},I.a.createElement(v.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:r,name:"form_in_modal"}),I.a.createElement(v.a.Item,{name:"type",label:"Type"},I.a.createElement(C.a,null,I.a.createElement(R,{value:"email"},"email"),I.a.createElement(R,{value:"ins"},"ins"),I.a.createElement(R,{value:"fb"},"fb"))),I.a.createElement(v.a.Item,{name:"user_name",label:"User Name",rules:[{required:!0}]},I.a.createElement(h.a,null))))},L=function(){var e=Object(x.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},aVisible:!1,aFormData:{},bVisible:!1,bFormData:{},dVisible:!1,dFormData:{}}),a=Object(y.a)(e,2),t=a[0],n=a[1],c=Object(x.useState)({visible:!1,data:{}}),i=Object(y.a)(c,2);i[0],i[1];Object(x.useEffect)((function(){t.pagination;var e={current:1,page_size:t.pagination.pageSize};m(e)}),[]);var m=function(e){console.log("params getList",e);t.pagination,t.search;e=Object(o.a)(Object(o.a)({},e),{},{limit:e.page_size,offset:e.current}),n(Object(o.a)(Object(o.a)({},t),{},{loading:!0})),Object(D.mb)(e).then((function(a){n(Object(o.a)(Object(o.a)({},t),{},{visible:!1,list:a.data.page.records&&Object(S.getKeyList)(a.data.page.records),loading:!1,search:e.search,pagination:{current:e.offset,pageSize:e.limit,total:a.data.page.total}}))})).catch((function(e){console.log("err",e)}))},u={onChange:function(e,a){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",a)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}};return I.a.createElement(l.a,{className:"animated fadeIn"},I.a.createElement(K,{visible:t.dVisible,onCreate:function(e){console.log("values",e);var a=Object(o.a)(Object(o.a)({},e),{},{begin_date:e.begin_date.format("YYYY-MM-DD HH:mm:ss"),end_date:e.end_date.format("YYYY-MM-DD HH:mm:ss")});Object(D.J)({Referral_code_json:JSON.stringify(a)}).then((function(e){s.a.success("success"),n(Object(o.a)(Object(o.a)({},t),{},{dVisible:!1}))}))},onCancel:function(){n(Object(o.a)(Object(o.a)({},t),{},{dVisible:!1}))},formData:t.formData}),I.a.createElement(A,{visible:t.visible,onCreate:function(e){console.log("data",e),Object(D.j)({ReferralCodeJson:JSON.stringify(e)}).then((function(e){s.a.success("success");var a=Object(o.a)({},t.search);m(a)})).catch((function(e){console.log("err",e)}))},onCancel:function(){n(Object(o.a)(Object(o.a)({},t),{},{visible:!1}))},formData:t.formData,disabled:t.disabled}),I.a.createElement("div",{className:"web-bread-c"},I.a.createElement(F.a,{arr:["Kol Persona"]}),I.a.createElement("h3",null,"Kol Persona"),I.a.createElement("img",{src:Y.a,className:"aset"})),I.a.createElement("div",{className:"base-wr"},I.a.createElement("div",{className:"base-style"},I.a.createElement(P,{changeSearch:function(e){var a=Object(o.a)(Object(o.a)({},e),{},{page_size:10,current:1,search:e});n(Object(o.a)(Object(o.a)({},t),{},{search:e})),m(a)},loading:t.loading})),I.a.createElement(f.a,null,I.a.createElement(E.a,{span:24},I.a.createElement("div",{className:"base-style"},I.a.createElement(f.a,null,I.a.createElement(E.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}})),I.a.createElement(r.a,{columns:H((function(e){console.log("edit",e);var a=z.a+"/account/referral_user?user_id="+e;window.open(a,"_blank").focus()})),bordered:!0,rowKey:function(e){return e.key},rowSelection:Object(o.a)({type:"checkbox"},u),scroll:{scrollToFirstRowOnChange:!0,x:1e3},dataSource:t.list,onChange:function(e){var a=Object(o.a)(Object(o.a)({},t.search),{},{page_size:e.pageSize,current:e.current,search:t.search});m(a)},loading:t.loading,pagination:t.pagination}))))))};a.default=L},434:function(e,a,t){"use strict";var n=t(0),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},c=t(49),r=function(e,a){return n.createElement(c.a,Object.assign({},e,{ref:a,icon:l}))};r.displayName="SearchOutlined";a.a=n.forwardRef(r)}}]);