(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[65],{1816:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),c=t.n(n),l=(t(76),t(78)),i=t.n(l),r=(t(72),t(66)),s=t.n(r),o=t(62),m=(t(86),t(87)),d=t.n(m),u=(t(51),t(50)),b=t.n(u),g=(t(57),t(59)),p=t.n(g),h=(t(58),t(60)),f=t.n(h),_=(t(69),t(70)),E=t.n(_),O=(t(65),t(67)),j=t.n(O),y=t(53),v=(t(243),t(245)),w=t.n(v),k=(t(164),t(168)),S=t.n(k),C=(t(63),t(61)),x=t.n(C),I=(t(74),t(75)),z=t.n(I),N=t(0),T=t.n(N),D=t(71),F=(t(107),t(56)),J=t(95),A=(t(114),t(15),t(228),t(73)),R=t.n(A),L=t(1838),K=t(265),U=t(186),q=(z.a.MonthPicker,z.a.RangePicker,x.a.Option),P=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return T.a.createElement(q,{key:a,value:e.value},e.label)})),function(e,a,t){return[{title:"Action",dataIndex:"edit",key:"edit",width:"100",align:"center",render:function(a,n){return T.a.createElement("div",null,T.a.createElement("a",{className:"action-btn",onClick:function(){e(n)}},T.a.createElement(L.a,{style:{marginRight:"4px"}}),"Edit"),T.a.createElement(S.a,{title:"Are you sure delete this merchant?",onConfirm:function(){t(n)},okText:"Yes",cancelText:"No"},T.a.createElement("a",{className:"action-btn",onClick:function(){}},T.a.createElement(K.a,{style:{marginRight:"4px"}}),"Delete")))}},{title:"SKU ID",dataIndex:"id",key:"id",width:"100",align:"center",render:function(e,a){return T.a.createElement("span",{className:"table-id"},e)}},{title:"Sku name",dataIndex:"shown_name",key:"shown_name",align:"center"},{title:"Tier1 cat",dataIndex:"tier_1_cat",key:"tier_1_cat",width:"100",align:"center"},{title:"Tier2 cat",dataIndex:"tier_2_cat",key:"tier_2_cat",width:"100",align:"center"},{title:"Tier3 cat",dataIndex:"tier_3_cat",key:"tier_3_cat",width:"100",align:"center"},{title:"Show App",dataIndex:"is_show_app",key:"is_show_app",width:"100",alignL:"center",render:function(e,t){return T.a.createElement("div",null,T.a.createElement(w.a,{defaultChecked:1==e,onClick:function(){a(t)}})," ")}},{title:"Update date",dataIndex:"update_time",key:"update_time",width:"100",align:"center"},{title:"Update by",dataIndex:"updated_by",key:"updated_by",align:"center",render:function(e,a){return T.a.createElement("div",{style:{width:"100px"}},T.a.createElement(U.a,{name:e,style:{display:"inline-block"}}),T.a.createElement("span",null,e))}}]}),V={labelCol:{span:8},wrapperCol:{span:16}},Y=function(e){var a=j.a.useForm(),t=Object(y.a)(a,1)[0];return T.a.createElement(j.a,Object.assign({},V,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){console.log("values",a),e.changeSearch(a)}}),T.a.createElement(p.a,{gutter:24},T.a.createElement(f.a,{span:8},T.a.createElement(j.a.Item,{name:"id",label:"ID"},T.a.createElement(E.a,null))),T.a.createElement(f.a,{span:8},T.a.createElement(j.a.Item,{name:"is_show_app",label:"Show App"},T.a.createElement(x.a,{allowClear:!0},T.a.createElement(q,{value:1},"Yes"),T.a.createElement(q,{value:0},"No"))))),T.a.createElement(p.a,null,T.a.createElement(f.a,{span:24,style:{textAlign:"right"}},T.a.createElement(b.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),T.a.createElement(b.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},B=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,c=e.formData,l=(e.disabled,j.a.useForm()),i=Object(y.a)(l,1)[0],r=Object(N.useState)({}),s=Object(y.a)(r,2),o=(s[0],s[1],Object(N.useState)(!1)),m=Object(y.a)(o,2);m[0],m[1];Object(N.useEffect)((function(){console.log("formdata",c),Object.keys(c).length?i.setFieldsValue(c):i.resetFields()}),[c]);return T.a.createElement(d.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){i.validateFields().then((function(e){i.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},T.a.createElement(j.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:i,name:"form_in_modal"}),T.a.createElement(j.a.Item,{name:"id",label:"ID"},T.a.createElement(E.a,{disabled:!0})),T.a.createElement(j.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},T.a.createElement(E.a,null)),T.a.createElement(j.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},T.a.createElement(E.a,null)),T.a.createElement(j.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},T.a.createElement(E.a,null)),T.a.createElement(j.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},T.a.createElement(E.a,null))))},H=function(e){var a=Object(N.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),t=Object(y.a)(a,2),n=t[0],l=t[1],r=Object(N.useState)({visible:!1,data:{}}),m=Object(y.a)(r,2);m[0],m[1];Object(N.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};d(e)}),[]);var d=function(e){n.pagination,n.search;l(Object(o.a)(Object(o.a)({},n),{},{loading:!0})),Object(F.Hb)({categoryJson:JSON.stringify(e)}).then((function(a){l(Object(o.a)(Object(o.a)({},n),{},{visible:!1,list:a.data.list&&Object(J.getKeyList)(a.data.list),loading:!1,search:e.search,pagination:{total:a.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))})).catch((function(e){console.log("err",e)}))};return T.a.createElement(c.a,{className:"animated fadeIn"},T.a.createElement(B,{visible:n.visible,onCreate:function(e){console.log("data",e),e.is_show_app=1,Object(F.s)({categoryJson:JSON.stringify(e)}).then((function(e){s.a.success("success");var a=Object(o.a)(Object(o.a)({},n.search),{},{start_row:0,page_size:10});d(a)})).catch((function(e){console.log("err",e)}))},onCancel:function(){l(Object(o.a)(Object(o.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),T.a.createElement("div",{className:"web-bread-c"},T.a.createElement(D.a,{arr:["Sku List"]}),T.a.createElement("h3",null,"Sku List"),T.a.createElement("img",{src:R.a,className:"aset",alt:"aset"})),T.a.createElement("div",{className:"base-wr"},T.a.createElement("div",{className:"base-style"},T.a.createElement(Y,{changeSearch:function(e){var a=Object(o.a)(Object(o.a)({},e),{},{page_size:10,start_row:0,search:e});l(Object(o.a)(Object(o.a)({},n),{},{search:e})),d(a)},loading:n.loading})),T.a.createElement(p.a,null,T.a.createElement(f.a,{span:24},T.a.createElement("div",{className:"base-style"},T.a.createElement(p.a,null,T.a.createElement(f.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},T.a.createElement(b.a,{type:"primary",onClick:function(){l(Object(o.a)(Object(o.a)({},n),{},{visible:!0,formData:{}}))}},"Create Sku"))),T.a.createElement(i.a,{columns:P((function(e){console.log("data",e),l(Object(o.a)(Object(o.a)({},n),{},{visible:!0,formData:e}))}),(function(e){console.log("data",e),Object(F.s)({categoryJson:JSON.stringify({id:e.id,tier_1_cat:e.tier_1_cat,shown_name:e.shown_name,is_show_app:1==e.is_show_app?0:1})}).then((function(e){var a=Object(o.a)(Object(o.a)({},n.search),{},{page_size:n.pagination.pageSize,start_row:n.pagination.pageSize*(n.pagination.current-1),search:n.search});d(a)})).catch((function(e){console.log("err",e)}))}),(function(e){console.log("dataconfirm",e),Object(F.D)({id:e.id}).then((function(e){n.pagination;var a={start_row:0,page_size:n.pagination.pageSize};d(a)}))})),rowKey:function(e){return e.key},dataSource:n.list,onChange:function(e){console.log("state",n);var a=Object(o.a)(Object(o.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:n.search});console.log("ttt",a),d(a)},loading:n.loading,bordered:!0,rowSelection:Object(o.a)({type:"checkbox"},(function(){})),pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=H}}]);