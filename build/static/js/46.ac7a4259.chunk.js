(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[46],{1815:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),r=t.n(n),s=(t(76),t(78)),l=t.n(s),c=(t(413),t(415)),i=t.n(c),o=(t(164),t(168)),u=t.n(o),m=(t(51),t(50)),d=t.n(m),b=(t(57),t(59)),f=t.n(b),p=(t(58),t(60)),E=t.n(p),y=(t(349),t(351)),v=t.n(y),k=(t(286),t(288)),_=t.n(k),g=(t(72),t(66)),h=t.n(g),O=(t(1408),t(1410)),w=t.n(O),I=(t(86),t(87)),j=t.n(I),C=(t(69),t(70)),D=t.n(C),x=t(62),A=(t(65),t(67)),N=t.n(A),S=t(53),L=(t(162),t(163)),J=t.n(L),T=(t(225),t(229)),F=t.n(T),P=(t(63),t(61)),B=t.n(P),q=(t(74),t(75)),U=t.n(q),R=t(0),V=t.n(R),Y=(t(119),t(89)),z=(t(80),t(56)),W=(t(124),t(265)),G=t(1846),K=t(114),M=(t(177),t(257)),X=t.n(M),$=(U.a.RangePicker,{labelCol:{span:8},wrapperCol:{span:16}}),H={wrapperCol:{offset:10,span:16}},Q=B.a.Option,Z=[{title:"ID",dataIndex:"id",key:"id",align:"center"},{title:"Update Time",dataIndex:"create_time",key:"create_time",align:"center",render:function(e,a){return new Date(e).toLocaleString()}},{title:"Action by",dataIndex:"action_by",key:"action_by",align:"center"},{title:"What is updated",dataIndex:"update",key:"update",align:"center"}],ee=[{title:"Task ID",dataIndex:"task_id",key:"task_id",align:"center",width:"100"},{title:"Campaign title",dataIndex:"title",key:"title",align:"center"},{title:"Update date",dataIndex:"update_time",key:"update_time",align:"center"},{title:"Username",dataIndex:"from_user",key:"from_user",width:100,align:"center"},{title:"Courier",dataIndex:"courier",key:"courier",align:"center"},{title:"Tracking number",dataIndex:"tracking_number",key:"tracking_number",width:100,align:"center",render:function(e,a){return V.a.createElement("a",{href:"https://www.ydhex.com/tools/inquire?number=".concat(e),target:"_blank"},e)}},{title:"Application status",dataIndex:"status",key:"status",width:160,align:"left",render:function(e,a){return V.a.createElement("div",null,V.a.createElement(F.a,{status:4==e?"default":"success"}),V.a.createElement("span",null,1==e?"New application":4==e?"Closed":3==e?"Approved":"Shipped"))}}],ae=[{title:"Campaign title",dataIndex:"title",key:"title",align:"center"},{title:"Username",dataIndex:"user",key:"user",width:"100",align:"center"},{title:"Application date",dataIndex:"create_time",key:"create_time",width:"100",align:"center"},{title:"Leading time ",dataIndex:"update_time",key:"update_time",width:"100",align:"center",render:function(e,a){return V.a.createElement("div",null,Object(K.b)(a.submit_time,a.review_time))}},{title:"# of upload images",dataIndex:"images",key:"images",align:"center",render:function(e,a){return V.a.createElement("div",{style:{display:"flex"}},e&&JSON.parse(e).map((function(e,a){return console.log("urlll,",e),/^.+(\.mp4|\.avi|video|\.mov|\.rmvb|.flv)$/.test(e)?V.a.createElement("video",{src:e,controls:"controls",style:{width:"100px",marginLeft:"10px"}},"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 video \u6807\u7b7e\u3002"):V.a.createElement(J.a,{src:e,style:{maxWidth:"70px",marginLeft:"10px"}})})))}},{title:"Link",dataIndex:"linkes",key:"linkes",align:"center",width:"100",render:function(e,a){return V.a.createElement("div",null,Object(K.e)(e)?JSON.parse(e).map((function(e,a){return V.a.createElement("a",{href:e,target:"_blank"},e)})):e)}},{title:"Task status",dataIndex:"status",width:200,key:"status",align:"left",render:function(e,a){return V.a.createElement("div",null,V.a.createElement(F.a,{status:0==e?"default":"success"}),V.a.createElement("span",null,0==e?"Task closed":1==e?"New Task":2==e?"Pending proof upload":3==e?"Pending for Review":4==e?"Resubmit evidence":5==e?"Task Approved":7==e?"Pending for Content Review":8==e?"Resubmit Content":9==e?"Pending proof upload":""))}}],te=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,r=e.formDataAddress,s=(e.disabled,N.a.useForm()),l=Object(S.a)(s,1)[0],c=Object(R.useState)({countryList:[]}),i=Object(S.a)(c,2),o=i[0],u=i[1];Object(R.useEffect)((function(){Object(z.eb)().then((function(e){u(Object(x.a)(Object(x.a)({},o),{},{countryList:e.data.data}))})),l.setFieldsValue({id:r.id,name:r.name,contact_number:r.contact_number,address:r.address,country:r.country,post_code:r.post_code})}),[a]);var m=o.countryList.map((function(e,a){return V.a.createElement(Q,{key:e.id,value:e.name},e.name)}));return V.a.createElement(j.a,{visible:a,title:"pay account detail",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){l.validateFields().then((function(e){l.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},V.a.createElement(N.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:l,name:"form_in_modal"}),V.a.createElement(N.a.Item,{label:"ID",name:"id"},V.a.createElement(D.a,{disabled:!0})),V.a.createElement(N.a.Item,{label:"Name",name:"name"},V.a.createElement(D.a,null)),V.a.createElement(N.a.Item,{label:"Contact Number",name:"contact_number"},V.a.createElement(D.a,null)),V.a.createElement(N.a.Item,{label:"Address",name:"address"},V.a.createElement(X.a,null)),V.a.createElement(N.a.Item,{label:"Country",name:"country"},V.a.createElement(B.a,{showSearch:!0},m)),V.a.createElement(N.a.Item,{label:"Post code",name:"post_code"},V.a.createElement(D.a,null))))},ne=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,r=e.formData,s=(e.disabled,N.a.useForm()),l=Object(S.a)(s,1)[0],c=Object(R.useState)({type:2,bankOptions:[],id:null,otherBank:!1}),i=Object(S.a)(c,2),o=i[0],u=i[1],m=function(e){console.log("resbank",e),console.log("formData",r);var a=r.country_bank?JSON.parse(r.country_bank):[];r.type||(r.type=2),l.setFieldsValue({id:r.id,type:r.type,account_address:r.account_address,full_name:r.full_name,country_bank:r.country_bank?JSON.parse(r.country_bank):[],swift_code:r.swift_code,other_bank:0===a[0]?a[1]:""}),u(Object(x.a)(Object(x.a)({},o),{},{bankOptions:e,type:r.type,id:r.id?r.id:null,otherBank:0===a[0]}))},d=function e(a){return a.map((function(a){return a.bank_list?{label:a.country_name,value:a.country_id,children:e(a.bank_list)}:{label:a.name,value:a.name}}))};return Object(R.useEffect)((function(){Object(z.Lc)().then((function(e){var a=d(e.data.data);m(a)}))}),[a]),V.a.createElement(j.a,{visible:a,title:"pay account detail",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){l.validateFields().then((function(e){l.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},V.a.createElement(N.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:l,name:"form_in_modal"}),V.a.createElement(N.a.Item,{name:"id",label:"ID",rules:[{required:!0}]},V.a.createElement(D.a,{disabled:!0})),V.a.createElement(N.a.Item,{name:"type",label:"Type",rules:[{required:!0}]},V.a.createElement(B.a,{onChange:function(e){console.log("e",e),u({type:e})}},V.a.createElement(Q,{value:1},"PayPal"),V.a.createElement(Q,{value:2},"Bank"))),V.a.createElement(N.a.Item,{name:"account_address",label:"Account",rules:[{required:!0}]},V.a.createElement(D.a,null)),2==o.type?V.a.createElement("div",null,V.a.createElement(N.a.Item,{label:"Full Name",name:"full_name"},V.a.createElement(D.a,null)),V.a.createElement(N.a.Item,{label:"Country Bank",name:"country_bank",className:"bank-name"},V.a.createElement(w.a,{options:o.bankOptions,onChange:function(e){0===e[0]?u(Object(x.a)(Object(x.a)({},o),{},{otherBank:!0})):u(Object(x.a)(Object(x.a)({},o),{},{otherBank:!1}))}})),o.otherBank?V.a.createElement(N.a.Item,{label:"Other Bank",name:"other_bank"},V.a.createElement(D.a,null)):null,V.a.createElement(N.a.Item,{label:"Swift Code",name:"swift_code"},V.a.createElement(D.a,null))):null))},re=function(e){var a=Object(R.useState)({reviewContent:{},taskRecordList:[],visible:!1,formData:{},userAddress:{},userPayAccount:{},password:"",actionLog:[],userID:"",visibleAddress:!1,formDataAddress:{}}),t=Object(S.a)(a,2),n=t[0],s=t[1],c=N.a.useForm(),o=Object(S.a)(c,1)[0],m=Object(R.useState)([]),b=Object(S.a)(m,2),p=b[0],y=b[1],k=Object(R.useState)([]),g=Object(S.a)(k,2),O=g[0],w=g[1];return Object(R.useEffect)((function(){!function(){var a=e.match.params.id;console.log("iddd",a),Object(z.Sb)({id:a}).then((function(e){console.log("resp",e),o.setFieldsValue({id:e.data.data.user.id,invitation_code:e.data.data.user.invitation_code,email:e.data.data.user.email,country_list:e.data.data.user.country_list,nickname:e.data.data.user.nickname,gender:e.data.data.user.gender,language:e.data.data.user.language,status:e.data.data.user.status,password:e.data.data.user.password,fb_name:e.data.data.user_social.fb_name,ins_name:e.data.data.user_social.ins_name,tiktok_name:e.data.data.user_social.tiktok_name}),s(Object(x.a)(Object(x.a)({},n),{},{userPayAccount:e.data.data.user_pay_account.length?e.data.data.user_pay_account[0]:{},userAddress:e.data.data.user_address.length?e.data.data.user_address[0]:{},actionLog:e.data.data.action_log,userID:e.data.data.user.id,formData:e.data.data}))}))}(),function(){var a={start_row:0,page_size:100,user_id:e.match.params.id};Object(z.X)({taskJson:JSON.stringify(a)}).then((function(e){y(e.data.list)}))}(),function(){var a={start_row:0,page_size:100,user_id:e.match.params.id};Object(z.Fb)({sampleOrderJson:JSON.stringify(a)}).then((function(e){w(e.data.list)}))}()}),[]),V.a.createElement(r.a,{className:"index animated fadeIn"},V.a.createElement(ne,{visible:n.visible,onCreate:function(a){console.log("values",a);var t={id:a.id,type:a.type,user_id:n.userID,account_address:a.account_address,full_name:a.full_name,bank_name:a.country_bank?a.country_bank[1]:"",swift_code:a.swift_code,country_bank:a.country_bank};a.other_bank&&(t.bank_name=a.other_bank,t.country_bank=[0,a.otherBank]),Object(z.m)({payAccountJson:JSON.stringify(t)}).then((function(a){h.a.success("success"),e.history.push("/account/account")}))},onCancel:function(){s(Object(x.a)(Object(x.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),V.a.createElement(te,{visible:n.visibleAddress,onCreate:function(a){console.log("valuesss",a),Object(z.n)({userAddressJson:JSON.stringify({id:a.id,user_id:n.userID,name:a.name,contact_number:a.contact_number,address:a.address,country:a.country,post_code:a.post_code})}).then((function(a){h.a.success("success"),e.history.push("/account/account")}))},onCancel:function(){s(Object(x.a)(Object(x.a)({},n),{},{visibleAddress:!1}))},formDataAddress:n.formDataAddress}),V.a.createElement(Y.a,{title:"User Detail"}),V.a.createElement("div",{className:"base-style base-detail",id:"demoline"},V.a.createElement(f.a,null,V.a.createElement(E.a,{span:24},V.a.createElement(_.a,{title:"User Info"},V.a.createElement(_.a.Item,{label:"User ID"},n.userID),V.a.createElement(_.a.Item,{label:"Invitation code"},n.formData.user&&n.formData.user.invitation_code),V.a.createElement(_.a.Item,{label:"Username(email)"},n.formData.user&&n.formData.user.email),V.a.createElement(_.a.Item,{label:"Distribution countries"},n.formData.user&&n.formData.user.country_list&&JSON.parse(n.formData.user.country_list).map((function(e,a){return V.a.createElement(v.a,{color:"geekblue",key:e},e)}))),V.a.createElement(_.a.Item,{label:"Name"},n.formData.user&&n.formData.user.nickname),V.a.createElement(_.a.Item,{label:"Gender"},n.formData.user&&1==n.formData.user.gender?"Male":n.formData.user&&2==n.formData.user.gender?"Female":n.formData.user&&0==n.formData.user.gender?"Perfer not to say":""),V.a.createElement(_.a.Item,{label:"Language"},n.formData.user&&n.formData.user.language),V.a.createElement(_.a.Item,{label:"Acquisition channel"},n.formData.user&&n.formData.user.hear_about_us),V.a.createElement(_.a.Item,{label:"User status"},n.formData.user?V.a.createElement("div",null,V.a.createElement(F.a,{status:1==n.formData.user.status?"success":6==n.formData.user.status?"processing":3==n.formData.user.status?"error":"default"}),V.a.createElement("span",null,1==n.formData.user.status?"Active":2==n.formData.user.status?"Banne":3==n.formData.user.status?"DELETED":4==n.formData.user.status?"INACTIVE":5==n.formData.user.status?"LOCKED":6==n.formData.user.status?"Created":"")):null))))),V.a.createElement("div",{className:"base-style base-detail",style:{paddingTop:"60px"}},V.a.createElement(f.a,null,V.a.createElement(E.a,{span:24},V.a.createElement(N.a,Object.assign({},$,{name:"basic",initialValues:{remember:!0},onFinish:function(a){var t=e.location.query||(sessionStorage.getItem("query")?JSON.parse(sessionStorage.getItem("query")):{});console.log("valuess",a),console.log("query",t);var n=e.match.params.id;Object(z.vc)({userSocialJson:JSON.stringify({user_id:n,ins_name:a.ins_name,fb_name:a.fb_name,tiktok_name:a.tiktok_name})}).then((function(a){h.a.success("success"),e.history.push("/account/account")}))},form:o}),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:12},V.a.createElement(N.a.Item,{label:"Username in Facebook",name:"fb_name"},V.a.createElement(D.a,null)))),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:12},V.a.createElement(N.a.Item,{label:"Username in Instagram",name:"ins_name"},V.a.createElement(D.a,null)))),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:12},V.a.createElement(N.a.Item,{label:"Username in Tiktok",name:"tiktok_name"},V.a.createElement(D.a,null)))),V.a.createElement(N.a.Item,H,V.a.createElement("div",null,V.a.createElement(d.a,{type:"primary",htmlType:"submit",style:{marginLeft:"30px"}},"Save"),V.a.createElement(d.a,{htmlType:"button",onClick:function(){o.resetFields()},style:{marginLeft:"30px"}},"Reset"))))))),V.a.createElement("div",{className:"base-style base-detail"},V.a.createElement("div",{className:"task-review-content"},V.a.createElement("h3",{style:{width:180}},"password:"),V.a.createElement(D.a,{style:{width:"300px",marginLeft:"30px"},onChange:function(e){console.log("e",e),s(Object(x.a)(Object(x.a)({},n),{},{password:e.target.value}))}}),V.a.createElement(d.a,{type:"primary",onClick:function(){var a=e.location.query||(sessionStorage.getItem("query")?JSON.parse(sessionStorage.getItem("query")):{});console.log("query",a),Object(z.e)({userJson:JSON.stringify({id:a.id,password:n.password})}).then((function(a){h.a.success("\u4fee\u6539\u6210\u529f"),e.history.push("/account/account")}))},style:{marginLeft:"30px"}},"Save"))),V.a.createElement("div",{className:"base-style base-detail"},V.a.createElement("div",{className:"task-review-content"},V.a.createElement("h3",{style:{width:180}},"user pay acount:"),n.userPayAccount.bank_name?V.a.createElement(i.a,{style:{width:300,marginLeft:30},hoverable:!0,actions:[V.a.createElement(u.a,{title:"Are you sure to delete ?",onConfirm:function(){var a;a=n.userPayAccount,console.log("data",a),Object(z.x)({id:a.id}).then((function(a){e.history.push("/account/account")}))},okText:"Yes",cancelText:"No"},V.a.createElement(W.a,{key:"delete"})),V.a.createElement(G.a,{key:"edit",onClick:function(){var e;e=n.userPayAccount,console.log("data",e),s(Object(x.a)(Object(x.a)({},n),{},{visible:!0,formData:e}))}})]},V.a.createElement("div",null,"Bank name: ",n.userPayAccount.bank_name),V.a.createElement("div",null,"Your account: ",n.userPayAccount.account_address)):null)),V.a.createElement("div",{className:"base-style base-detail"},V.a.createElement("div",{className:"task-review-content"},V.a.createElement("h3",{style:{width:180}},"user address:"),n.userAddress.address?V.a.createElement(i.a,{style:{width:300,marginLeft:30},hoverable:!0,actions:[V.a.createElement(u.a,{title:"Are you sure to delete ?",onConfirm:function(){var a;a=n.userAddress,Object(z.y)({id:a.id}).then((function(a){e.history.push("/account/account")}))},okText:"Yes",cancelText:"No"},V.a.createElement(W.a,{key:"delete"})),V.a.createElement(G.a,{key:"edit",onClick:function(){var e;e=n.userAddress,s(Object(x.a)(Object(x.a)({},n),{},{visibleAddress:!0,formDataAddress:e}))}})]},V.a.createElement("div",null,"address:",n.userAddress.address),V.a.createElement("div",null,"contact number:",n.userAddress.contact_number),V.a.createElement("div",null,"country:",n.userAddress.country),V.a.createElement("div",null,"user name:",n.userAddress.name),V.a.createElement("div",null,"post code:",n.userAddress.post_code)):null)),V.a.createElement("div",{className:"base-style base-detail",id:"demoline"},V.a.createElement("h3",{style:{marginBottom:"10px"}},"action logs"),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:24},V.a.createElement(l.a,{columns:Z,dataSource:n.actionLog})))),V.a.createElement("div",{className:"base-style base-detail",id:"demoline"},V.a.createElement("h3",{style:{marginBottom:"10px"}},"sample list"),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:24},V.a.createElement(l.a,{columns:ee,dataSource:O})))),V.a.createElement("div",{className:"base-style base-detail",id:"demoline"},V.a.createElement("h3",{style:{marginBottom:"10px"}},"task list"),V.a.createElement(f.a,null,V.a.createElement(E.a,{span:24},V.a.createElement(l.a,{columns:ae,dataSource:p})))),n.reviewContent&&3==n.reviewContent.status?V.a.createElement("div",{className:"base-style",id:"demoline"},V.a.createElement("div",{className:"task-review-content"},V.a.createElement("div",null,"upload imgs:"),V.a.createElement("div",{style:{marginLeft:"20px"}},n.reviewContent&&n.reviewContent.review_images&&n.reviewContent.review_images.map((function(e,a){return V.a.createElement(J.a,{key:a,width:200,src:e})})))),V.a.createElement("div",{className:"task-review-content"},V.a.createElement("div",null,"links:"),V.a.createElement("div",{style:{marginLeft:"20px"}},n.reviewContent&&n.reviewContent.review_linkes&&n.reviewContent.review_linkes.map((function(e,a){return V.a.createElement("a",{key:a,href:e,target:"_blank"},e)})))),"4"==n.reviewContent.status||"5"==n.reviewContent.status?null:V.a.createElement("div",{style:{marginTop:"20px",textAlign:"center"}},V.a.createElement(d.a,{type:"primary",onClick:function(){!function(a,t){var n={id:a.reviewContent.id,task_id:a.reviewContent.task_id,status:t};Object(z.V)({taskRecordJson:JSON.stringify(n)}).then((function(t){h.a.success("success"),s(Object(x.a)(Object(x.a)({},a),{},{visible:!1})),e.history.push("/tasks")}))}(n,"5")}},"Approve"),V.a.createElement(d.a,{type:"dashed",onClick:function(){!function(e,a){console.log("state",e),console.log("status",a),s(Object(x.a)(Object(x.a)({},e),{},{visible:!0,formData:{id:e.reviewContent.id,task_id:e.reviewContent.task_id,status:a}}))}(n,"4")},style:{marginLeft:"20px"}},"Reject"))):null)};a.default=re},80:function(e,a,t){},89:function(e,a,t){"use strict";var n=t(0),r=t.n(n),s=t(71),l=t(73),c=t.n(l),i=function(e){var a=e.title;return r.a.createElement("div",{className:"web-bread-c"},r.a.createElement(s.a,{arr:[a]}),r.a.createElement("h3",null,a),r.a.createElement("img",{src:c.a,className:"aset",alt:"aset"}))};a.a=i}}]);