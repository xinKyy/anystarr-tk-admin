(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[62],{1821:function(e,a,t){"use strict";t.r(a);t(54);var n=t(55),l=t.n(n),r=(t(76),t(78)),c=t.n(r),i=(t(197),t(198)),s=t.n(i),m=(t(72),t(66)),o=t.n(m),d=t(62),u=(t(86),t(87)),p=t.n(u),g=(t(51),t(50)),b=t.n(g),E=(t(57),t(59)),f=t.n(E),h=(t(58),t(60)),_=t.n(h),O=(t(69),t(70)),y=t.n(O),v=(t(65),t(67)),j=t.n(v),k=t(53),w=(t(225),t(229)),I=t.n(w),S=(t(236),t(129)),x=t.n(S),C=(t(63),t(61)),N=t.n(C),z=(t(74),t(75)),D=t.n(z),F=t(0),T=t.n(F),J=t(71),A=(t(107),t(56)),L=t(95),U=t(114),R=(t(15),t(228),t(124)),q=t.n(R),H=t(119),K=t.n(H),M=t(73),P=t.n(M),V=t(1838),B=(D.a.MonthPicker,D.a.RangePicker),Y=N.a.Option,G=([{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,a){return T.a.createElement(Y,{key:a,value:e.value},e.label)})),{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),Q=function(e,a,t){return[{title:"Action",dataIndex:"action",key:"action",align:"center",render:function(a,t){return T.a.createElement("a",{className:"action-btn",onClick:function(){e(t)}},T.a.createElement(V.a,null),T.a.createElement("span",{style:{marginLeft:"4px"}},"Edit"))}},{title:" Application ID",dataIndex:"id",key:"id",width:"101",align:"center",render:function(e,a){return T.a.createElement("span",{className:"table-id"},e)}},{title:"Task ID",dataIndex:"task_id",key:"task_id",align:"center",width:"100"},{title:"Campaign ID",dataIndex:"campaign_id",key:"campaign_id",align:"center",width:"100"},{title:"Campaign title",dataIndex:"title",key:"title",align:"center",render:function(e,a){return T.a.createElement(x.a,{title:e},T.a.createElement("div",{style:{width:"300px"}},e))}},{title:"Application status",dataIndex:"status",key:"status",width:160,align:"center",render:function(e,a){return T.a.createElement("div",null,T.a.createElement(I.a,{status:4==e?"default":"success"}),T.a.createElement("span",null,1==e?"New application":4==e?"Closed":3==e?"Approved":"Shipped"))}},{title:"Update date",dataIndex:"update_time",key:"update_time",align:"center",width:180},{title:"Username",dataIndex:"from_user",key:"from_user",width:100,align:"center"},{title:"Courier",dataIndex:"courier",key:"courier",align:"center"},{title:"Tracking number",dataIndex:"tracking_number",key:"tracking_number",width:100,align:"center",render:function(e,a){return T.a.createElement("a",{href:"https://www.ydhex.com/tools/inquire?number=".concat(e),target:"_blank"},e)}}]},W=function(e){var a=j.a.useForm(),t=Object(k.a)(a,1)[0];return T.a.createElement(j.a,Object.assign({},G,{form:t,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(a){console.log("values",a),e.changeSearch(a)}}),T.a.createElement(f.a,{gutter:24},T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"id",label:"ID"},T.a.createElement(y.a,null))),T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"user_id",label:"User ID"},T.a.createElement(y.a,null)))),T.a.createElement(f.a,{gutter:24},T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"from_user",label:"User Email"},T.a.createElement(y.a,null))),T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"tracking_number",label:"Tracking Number"},T.a.createElement(y.a,null)))),T.a.createElement(f.a,{gutter:24},T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"status",label:"Application status"},T.a.createElement(N.a,{allowClear:!0},T.a.createElement(Y,{value:1},"New application"),T.a.createElement(Y,{value:2},"Shipped"),T.a.createElement(Y,{value:3},"Approved"),T.a.createElement(Y,{value:4},"Closed")))),T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"time",label:"time"},T.a.createElement(B,{ranges:{Today:[K()(),K()()],Yesterday:[K()().subtract(1,"days"),K()().subtract(1,"days")],"Last 7 days":[K()().subtract(6,"days"),K()()],"Last 28 days":[K()().subtract(27,"days"),K()()]}})))),T.a.createElement(f.a,null,T.a.createElement(_.a,{span:10},T.a.createElement(j.a.Item,{name:"campaign_ids",label:"Campaign IDs"},T.a.createElement(y.a,{placeholder:"Separated by English commas"})))),T.a.createElement(f.a,null,T.a.createElement(_.a,{span:24,style:{textAlign:"right"}},T.a.createElement(b.a,{type:"primary",htmlType:"submit",loading:e.loading},"Search"),T.a.createElement(b.a,{style:{margin:"0 8px"},onClick:function(){t.resetFields()}},"Reset"))))},X=function(e){var a=e.visible,t=e.onCreate,n=e.onCancel,l=e.formData,r=(e.disabled,j.a.useForm()),c=Object(k.a)(r,1)[0],i=Object(F.useState)({}),s=Object(k.a)(i,2),m=(s[0],s[1],Object(F.useState)(!1)),o=Object(k.a)(m,2);o[0],o[1];Object(F.useEffect)((function(){console.log("formdata",l),Object.keys(l).length?c.setFieldsValue(l):c.resetFields()}),[l]);return T.a.createElement(p.a,{visible:a,title:"sku",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){c.validateFields().then((function(e){c.resetFields(),t(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},T.a.createElement(j.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:c,name:"form_in_modal"}),T.a.createElement(j.a.Item,{name:"id",label:"ID"},T.a.createElement(y.a,{disabled:!0})),T.a.createElement(j.a.Item,{name:"tier_1_cat",label:"Tier1 Cat",rules:[{required:!0}]},T.a.createElement(y.a,null)),T.a.createElement(j.a.Item,{name:"tier_2_cat",label:"Tier2 Cat"},T.a.createElement(y.a,null)),T.a.createElement(j.a.Item,{name:"tier_3_cat",label:"Tier3 Cat"},T.a.createElement(y.a,null)),T.a.createElement(j.a.Item,{name:"shown_name",label:"Sku name",rules:[{required:!0}]},T.a.createElement(y.a,null))))},Z=function(e){var a=Object(F.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{}}),t=Object(k.a)(a,2),n=t[0],r=t[1],i=Object(F.useState)({visible:!1,data:{}}),m=Object(k.a)(i,2);m[0],m[1];Object(F.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};u(e)}),[]);var u=function(e){n.pagination,n.search;if(r(Object(d.a)(Object(d.a)({},n),{},{loading:!0})),e.time&&(e.start_time=Object(U.c)(e.time[0]._d),e.end_time=Object(U.c)(e.time[1]._d)),console.log("params.campaign_ids",e.campaign_ids),e.campaign_ids){var a=e.campaign_ids.split(",").map((function(e){return JSON.parse(e)}));e.campaign_ids=a}Object(A.Fb)({sampleOrderJson:JSON.stringify(e)}).then((function(a){r(Object(d.a)(Object(d.a)({},n),{},{visible:!1,list:a.data.list&&Object(L.getKeyList)(a.data.list),loading:!1,search:e.search,pagination:{total:a.data.pager.total,current:e.start_row/e.page_size+1,pageSize:e.page_size}}))})).catch((function(e){console.log("err",e)}))};return T.a.createElement(l.a,{className:"animated fadeIn"},T.a.createElement(X,{visible:n.visible,onCreate:function(e){console.log("data",e),e.is_show_app=1,Object(A.s)({categoryJson:JSON.stringify(e)}).then((function(e){o.a.success("success");var a=Object(d.a)(Object(d.a)({},n.search),{},{start_row:0,page_size:10});u(a)})).catch((function(e){console.log("err",e)}))},onCancel:function(){r(Object(d.a)(Object(d.a)({},n),{},{visible:!1}))},formData:n.formData,disabled:n.disabled}),T.a.createElement("div",{className:"web-bread-c"},T.a.createElement(J.a,{arr:["Sample application List"]}),T.a.createElement("h3",null,"Sample application List"),T.a.createElement("img",{src:P.a,className:"aset",alt:"aset"})),T.a.createElement("div",{className:"base-wr"},T.a.createElement("div",{className:"base-style"},T.a.createElement(W,{changeSearch:function(e){var a=Object(d.a)(Object(d.a)({},e),{},{page_size:10,start_row:0,search:e});r(Object(d.a)(Object(d.a)({},n),{},{search:e})),u(a)},loading:n.loading})),T.a.createElement(f.a,null,T.a.createElement(_.a,{span:24},T.a.createElement("div",{className:"base-style"},T.a.createElement(f.a,null,T.a.createElement(_.a,{span:24,style:{textAlign:"right",marginBottom:"15px"}},T.a.createElement(s.a,{customRequest:function(e){var a=e.file,t=e.onSuccess;Object(A.Ac)({file:a}).then((function(e){t();var a={start_row:0,page_size:n.pagination.pageSize};u(a)}))}},T.a.createElement(b.a,{type:"primary"},"Upload sample result")),T.a.createElement("div",{style:{marginLeft:"10px",display:"inline-block"}},T.a.createElement(s.a,{customRequest:function(e){var a=e.file,t=e.onSuccess;Object(A.Hc)({file:a}).then((function(e){t();var a={start_row:0,page_size:n.pagination.pageSize};u(a)}))}},T.a.createElement(b.a,{type:"primary"}," Upload tracking number"))),T.a.createElement("a",{style:{backgroundColor:"#1890ff",color:"#fff",padding:"8px 15px",marginLeft:"10px"},href:function(){var e=Object(A.M)(),a=Object(d.a)({},n.search);if(a.campaign_ids){var t=a.campaign_ids.split(",").map((function(e){return JSON.parse(e)}));a.campaign_ids=t}var l=JSON.stringify(a),r="".concat(e,"?sampleOrderJson=").concat(l);return console.log("resHref",r),encodeURI(r)}(),type:"download"},"Download"))),T.a.createElement(c.a,{rowSelection:Object(d.a)({type:"checkbox"},(function(){})),columns:Q((function(e){var a=q.a+"/sample_detail/"+e.id;window.open(a,"_blank").focus()})),rowKey:function(e){return e.key},dataSource:n.list,onChange:function(e){console.log("state",n);var a=Object(d.a)(Object(d.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1),search:n.search});console.log("ttt",a),u(a)},bordered:!0,size:"small",loading:n.loading,pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};a.default=Z}}]);