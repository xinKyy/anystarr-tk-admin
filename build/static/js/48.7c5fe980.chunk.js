(this["webpackJsonpreact-admin"]=this["webpackJsonpreact-admin"]||[]).push([[48],{1808:function(e,t,a){"use strict";a.r(t);a(54);var n=a(55),c=a.n(n),l=(a(76),a(78)),r=a.n(l),i=(a(197),a(198)),s=a.n(i),o=(a(51),a(50)),u=a.n(o),d=(a(72),a(66)),m=a.n(d),p=a(62),g=(a(86),a(87)),f=a.n(g),b=(a(69),a(70)),h=a.n(b),v=(a(57),a(59)),E=a.n(v),y=(a(58),a(60)),O=a.n(y),j=(a(319),a(306)),w=a.n(j),C=(a(65),a(67)),k=a.n(C),x=a(53),S=(a(225),a(229)),_=a.n(S),z=(a(330),a(331)),N=a.n(z),I=(a(63),a(61)),R=a.n(I),q=(a(74),a(75)),D=a.n(q),B=a(0),J=a.n(B),F=a(71),P=(a(107),a(56)),M=a(95),V=(a(15),a(73)),A=a.n(V),L=a(124),T=a.n(L),H=a(617),U=a(507),K=a(618),G=(D.a.MonthPicker,D.a.RangePicker,R.a.Option),W=(N.a.TabPane,[{label:"\u5f85\u5904\u7406",value:"to_handle"},{label:"\u5df2\u5904\u7406",value:"handled"}].map((function(e,t){return J.a.createElement(G,{key:t,value:e.value},e.label)})),function(e,t,a){return[{title:"Action",dataIndex:"edit",key:"edit",width:"200",align:"center",render:function(a,n){return"1"==n.status?J.a.createElement("div",null,J.a.createElement("a",{className:"action-btn",onClick:function(){e(n,"3")}},J.a.createElement(H.a,{style:{marginRight:"2px"}}),"On hold"),J.a.createElement("a",{className:"action-btn",onClick:function(){t(n,"2")},style:{marginLeft:"5px"}},J.a.createElement(U.a,{style:{marginRight:"2px"}}),"Approve")):"2"==n.status?J.a.createElement("div",null):"3"==n.status?J.a.createElement("div",null,J.a.createElement("a",{onClick:function(){e(n,"5")}},"Cancel")):null}},{title:"Payout ID",dataIndex:"id",key:"id",width:"100",align:"center",render:function(e,t){return J.a.createElement("span",{className:"table-id"},e)}},{title:"Applied from",dataIndex:"applied_from",key:"applied_from",align:"center",render:function(e,t){return J.a.createElement("span",{className:"table-id pointer",onClick:function(){a(t)}},e)}},{title:"Requested payout $",dataIndex:"requested_payout",key:"requested_payout",width:"100",align:"center",render:function(e,t){return J.a.createElement("span",{className:"table-row-red",style:{maxWidth:"80px"}},J.a.createElement(K.a,{style:{color:"#f85c5a"}})," ",e)}},{title:"Applied time",dataIndex:"applied_time",key:"applied_time",width:"100",align:"center"},{title:"status updated time",dataIndex:"update_time",key:"update_time",width:"100",align:"center"},{title:"User bank account",dataIndex:"pay_account",key:"pay_account",width:"100",align:"center"},{title:"Status",dataIndex:"status",key:"status",align:"center",width:200,render:function(e,t){return J.a.createElement("div",null,J.a.createElement(_.a,{status:1==e||2==e||3==e?"processing":4==e?"success":"default"}),1==e?"Requested(for review)":2==e?" In progress ":3==e?"Pending(for further review)":4==e?"Completed(send out successfully)":5==e?"cancelled":null)}},{title:"Pending reason",dataIndex:"reason",key:"reason",align:"center",width:"100"}]}),$={labelCol:{span:8},wrapperCol:{span:16}},Q=function(e){var t=k.a.useForm(),a=Object(x.a)(t,1)[0];return J.a.createElement(k.a,Object.assign({},$,{form:a,name:"advanced_search",className:"ant-advanced-search-form",onFinish:function(t){e.changeSearch(t)}}),J.a.createElement(E.a,{gutter:24},J.a.createElement(O.a,{span:24},J.a.createElement(k.a.Item,{name:"status",label:""},J.a.createElement(w.a.Group,{onChange:function(t){console.log("tyoe",t),e.changeSearch({status:t.target.value})},defaultValue:1},J.a.createElement(w.a.Button,{value:1},"Requested"),J.a.createElement(w.a.Button,{value:2},"In progress"),J.a.createElement(w.a.Button,{value:3},"Pending"),J.a.createElement(w.a.Button,{value:4},"Completed"),J.a.createElement(w.a.Button,{value:5},"Cancelled"))))))},X=function(e){var t=e.visible,a=e.onCreate,n=e.onCancel,c=e.formData,l=(e.disabled,k.a.useForm()),r=Object(x.a)(l,1)[0],i=Object(B.useState)({}),s=Object(x.a)(i,2),o=(s[0],s[1],Object(B.useState)(!1)),u=Object(x.a)(o,2);u[0],u[1];Object(B.useEffect)((function(){console.log("formData",c),Object.keys(c).length?r.setFieldsValue(c):r.resetFields()}),[c]);return J.a.createElement(f.a,{visible:t,title:"",okText:"Submit",cancelText:"Cancel",onCancel:n,onOk:function(){r.validateFields().then((function(e){r.resetFields(),a(e)})).catch((function(e){console.log("Validate Failed:",e)}))}},J.a.createElement(k.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:14}},{form:r,name:"form_in_modal"}),J.a.createElement(k.a.Item,{name:"reason",label:"reason",rules:[{required:!0}]},J.a.createElement(h.a,null)),J.a.createElement(k.a.Item,{name:"id",label:"id",rules:[{required:!0}]},J.a.createElement(h.a,{disabled:!0})),J.a.createElement(k.a.Item,{className:"hide-item",name:"status",label:"status",rules:[{required:!0}]},J.a.createElement(h.a,{disabled:!0})),J.a.createElement(k.a.Item,{className:"hide-item",name:"prevStatus",label:"prevStatus",rules:[{required:!0}]},J.a.createElement(h.a,{disabled:!0}))))},Y=function(e){var t=Object(B.useState)({list:[],pagination:{current:1,pageSize:10},search:{},loading:!0,visible:!1,disabled:!1,formData:{},status:"1"}),a=Object(x.a)(t,2),n=a[0],l=a[1],i=Object(B.useState)({visible:!1,data:{}}),o=Object(x.a)(i,2);o[0],o[1];Object(B.useEffect)((function(){n.pagination;var e={start_row:0,page_size:n.pagination.pageSize};d(e)}),[]);var d=function(e){n.pagination,n.search;l(Object(p.a)(Object(p.a)({},n),{},{loading:!0})),e.status||(e.status="1"),Object(P.qb)({paymentJson:JSON.stringify(e)}).then((function(t){l(Object(p.a)(Object(p.a)({},n),{},{visible:!1,list:t.data.list&&Object(M.getKeyList)(t.data.list),loading:!1,pagination:{total:t.data.pager.total},status:e.status}))})).catch((function(e){console.log("err",e)}))},g=function(){Object(P.qb)({paymentJson:JSON.stringify({status:n.status}),type:"export"}).then((function(e){m.a.success("success")}))};return J.a.createElement(c.a,{className:"animated fadeIn"},J.a.createElement(X,{visible:n.visible,onCreate:function(e){console.log("data",e),Object(P.gc)({paymentJson:JSON.stringify(e)}).then((function(t){var a={page_size:10,start_row:0,status:e.prevStatus};d(a)})).catch((function(e){console.log("err",e)}))},onCancel:function(){l(Object(p.a)(Object(p.a)({},n),{},{visible:!1}))},formData:n.formData}),J.a.createElement("div",{className:"web-bread-c"},J.a.createElement(F.a,{arr:["Payout List"]}),J.a.createElement("h3",null,"Payout List"),J.a.createElement("img",{src:A.a,className:"aset",alt:"aset"})),J.a.createElement("div",{className:"base-wr"},J.a.createElement("div",{className:"base-style"},J.a.createElement(Q,{changeSearch:function(e){console.log("search",e);var t=Object(p.a)(Object(p.a)({},e),{},{page_size:10,start_row:0});d(t),l(Object(p.a)(Object(p.a)({},n),e))}})),J.a.createElement(E.a,null,J.a.createElement(O.a,{span:24},J.a.createElement("div",{className:"base-style"},"2"==n.status?J.a.createElement("div",{style:{textAlign:"right",marginBottom:"10px"}},J.a.createElement(u.a,{style:{marginRight:"10px"},type:"primary",onClick:g},"Download"),J.a.createElement(s.a,{style:{marginRight:"10px"},customRequest:function(e){var t=e.file,a=e.onSuccess;Object(P.Dc)({file:t}).then((function(e){a();var t={start_row:0,page_size:n.pagination.pageSize};d(t)}))}},J.a.createElement(u.a,{type:"primary"}," Upload"))):J.a.createElement("div",{style:{textAlign:"right",marginBottom:"10px",marginRight:"10px"}},J.a.createElement(u.a,{type:"primary",onClick:g},"Download")),J.a.createElement(r.a,{columns:W((function(e,t){l(Object(p.a)(Object(p.a)({},n),{},{visible:!0,formData:{id:e.id,prevStatus:e.status,status:t}}))}),(function(e,t){console.log("status",t),Object(P.gc)({paymentJson:JSON.stringify({id:e.id,status:t})}).then((function(t){var a={page_size:10,start_row:0,status:e.status};d(a)}))}),(function(e){console.log("gotoUser",e);var t=T.a+"/userDetail/"+e.user_id;window.open(t,"_blank").focus()})),rowKey:function(e){return e.key},dataSource:n.list,bordered:!0,rowSelection:Object(p.a)({type:"checkbox"},(function(){})),onChange:function(e){var t=Object(p.a)(Object(p.a)({},n.search),{},{page_size:e.pageSize,start_row:e.pageSize*(e.current-1)});d(t)},loading:n.loading,pagination:n.pagination,scroll:{scrollToFirstRowOnChange:!0,x:1e3}}))))))};t.default=Y},507:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},l=a(49),r=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:c}))};r.displayName="MinusCircleOutlined";t.a=n.forwardRef(r)},617:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},l=a(49),r=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:c}))};r.displayName="CheckCircleOutlined";t.a=n.forwardRef(r)},618:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar-circle",theme:"outlined"},l=a(49),r=function(e,t){return n.createElement(l.a,Object.assign({},e,{ref:t,icon:c}))};r.displayName="DollarCircleOutlined";t.a=n.forwardRef(r)}}]);